<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by Apache Maven Doxia at Jan 9, 2013 ( $Revision: 1.1 $ ) -->
<!-- $HeadURL: https://svn.apache.org/repos/asf/commons/proper/commons-skin/trunk/src/main/resources/META-INF/maven/site.vm $ -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
 <head> 
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /> 
  <title>
    The Commons Math User Guide - Statistics</title> 
  <style type="text/css" media="all">
      @import url("../css/maven-base.css");
      @import url("../css/maven-theme.css");
      @import url("../css/site.css");
    </style> 
  <link rel="stylesheet" href="../css/print.css" type="text/css" media="print" /> 
  <meta name="Date-Revision-yyyymmdd" content="20130109" /> 
  <meta http-equiv="Content-Language" content="en" /> 
  <link rel="stylesheet" type="text/css" media="all" href="../css/prettify.css" /> 
  <script src="../js/prettify.js" type="text/javascript"></script> 
  <script type="text/javascript">window.onload=function() {
            prettyPrint();
        }</script> 
 </head> 
 <body class="composite"> 
  <div id="banner"> 
   <div id="bannerLeft"> 
    <a href="http://commons.apache.org/" title="Apache Commons logo"> <img src="../images/commons-logo.png" alt="Apache Commons logo" /> </a> 
   </div> 
   <!-- id="bannerLeft" --> 
   <div id="bannerRight"> 
    <a href="../index.html"> <img src="../images/math.gif" alt="Commons Math" /> </a> 
   </div> 
   <!-- id="bannerRight" --> 
   <div class="clear"> 
    <hr /> 
   </div> 
  </div> 
  <div id="breadcrumbs"> 
   <div class="xleft"> 
    <span id="publishDate">Last Published: 09 January 2013</span> &nbsp;| 
    <span id="projectVersion">Version: 3.1.1</span> 
   </div> 
   <div class="xright"> 
    <a href="http://www.apachecon.com/" class="externalLink" title="ApacheCon">ApacheCon</a> | 
    <a href="http://www.apache.org" class="externalLink" title="Apache">Apache</a> | 
    <a href="../../" title="Commons">Commons</a> 
   </div> 
   <div class="clear"> 
    <hr /> 
   </div> 
  </div> 
  <div id="leftColumn"> 
   <div id="navcolumn"> 
    <h5>Math</h5> 
    <ul> 
     <li class="none"> <a href="../index.html" title="Overview">Overview</a> </li> 
     <li class="none"> <a href="../download_math.cgi" title="Downloads">Downloads</a> </li> 
     <li class="none"> <a href="../apidocs/index.html" title="Latest API docs (development)">Latest API docs (development)</a> </li> 
     <li class="none"> <a href="../api-3.1.1/index.html" title="Javadoc (3.1.1 release)">Javadoc (3.1.1 release)</a> </li> 
     <li class="none"> <a href="../api-3.1/index.html" title="Javadoc (3.1 release)">Javadoc (3.1 release)</a> </li> 
     <li class="none"> <a href="../api-3.0/index.html" title="Javadoc (3.0 release)">Javadoc (3.0 release)</a> </li> 
     <li class="none"> <a href="../api-2.2/index.html" title="Javadoc (2.2 release)">Javadoc (2.2 release)</a> </li> 
     <li class="none"> <a href="../issue-tracking.html" title="Issue Tracking">Issue Tracking</a> </li> 
     <li class="none"> <a href="http://svn.apache.org/viewvc/commons/proper/math/trunk" class="externalLink" title="Source Repository (current)">Source Repository (current)</a> </li> 
     <li class="none"> <a href="http://wiki.apache.org/commons/Math" class="externalLink" title="Wiki">Wiki</a> </li> 
     <li class="none"> <a href="../developers.html" title="Developers Guide">Developers Guide</a> </li> 
     <li class="none"> <a href="../proposal.html" title="Proposal">Proposal</a> </li> 
    </ul> 
    <h5>User Guide</h5> 
    <ul> 
     <li class="none"> <a href="../userguide/index.html" title="Contents">Contents</a> </li> 
     <li class="none"> <a href="../userguide/overview.html" title="Overview">Overview</a> </li> 
     <li class="none"> <strong>Statistics</strong> </li> 
     <li class="none"> <a href="../userguide/random.html" title="Data Generation">Data Generation</a> </li> 
     <li class="none"> <a href="../userguide/linear.html" title="Linear Algebra">Linear Algebra</a> </li> 
     <li class="none"> <a href="../userguide/analysis.html" title="Numerical Analysis">Numerical Analysis</a> </li> 
     <li class="none"> <a href="../userguide/special.html" title="Special Functions">Special Functions</a> </li> 
     <li class="none"> <a href="../userguide/utilities.html" title="Utilities">Utilities</a> </li> 
     <li class="none"> <a href="../userguide/complex.html" title="Complex Numbers">Complex Numbers</a> </li> 
     <li class="none"> <a href="../userguide/distribution.html" title="Distributions">Distributions</a> </li> 
     <li class="none"> <a href="../userguide/fraction.html" title="Fractions">Fractions</a> </li> 
     <li class="none"> <a href="../userguide/transform.html" title="Transform Methods">Transform Methods</a> </li> 
     <li class="none"> <a href="../userguide/geometry.html" title="3D Geometry">3D Geometry</a> </li> 
     <li class="none"> <a href="../userguide/optimization.html" title="Optimization">Optimization</a> </li> 
     <li class="none"> <a href="../userguide/ode.html" title="Ordinary Differential Equations">Ordinary Differential Equations</a> </li> 
     <li class="none"> <a href="../userguide/genetics.html" title="Genetic Algorithms">Genetic Algorithms</a> </li> 
     <li class="none"> <a href="../userguide/filter.html" title="Filters">Filters</a> </li> 
    </ul> 
    <h5>Project Documentation</h5> 
    <ul> 
     <li class="collapsed"> <a href="../project-info.html" title="Project Information">Project Information</a> </li> 
     <li class="collapsed"> <a href="../project-reports.html" title="Project Reports">Project Reports</a> </li> 
    </ul> 
    <h5>Commons</h5> 
    <ul> 
     <li class="none"> <a href="../../" title="Home">Home</a> </li> 
     <li class="none"> <a href="http://www.apache.org/licenses/" class="externalLink" title="License">License</a> </li> 
     <li class="collapsed"> <a href="../../components.html" title="Components">Components</a> </li> 
     <li class="collapsed"> <a href="../../sandbox/index.html" title="Sandbox">Sandbox</a> </li> 
     <li class="collapsed"> <a href="../../dormant/index.html" title="Dormant">Dormant</a> </li> 
    </ul> 
    <h5>General Information</h5> 
    <ul> 
     <li class="none"> <a href="../../volunteering.html" title="Volunteering">Volunteering</a> </li> 
     <li class="none"> <a href="../../patches.html" title="Contributing Patches">Contributing Patches</a> </li> 
     <li class="none"> <a href="../../building.html" title="Building Components">Building Components</a> </li> 
     <li class="none"> <a href="../../releases/index.html" title="Releasing Components">Releasing Components</a> </li> 
     <li class="none"> <a href="http://wiki.apache.org/commons/FrontPage" class="externalLink" title="Wiki">Wiki</a> </li> 
    </ul> 
    <h5>ASF</h5> 
    <ul> 
     <li class="none"> <a href="http://www.apache.org/foundation/how-it-works.html" class="externalLink" title="How the ASF works">How the ASF works</a> </li> 
     <li class="none"> <a href="http://www.apache.org/foundation/getinvolved.html" class="externalLink" title="Get Involved">Get Involved</a> </li> 
     <li class="none"> <a href="http://www.apache.org/dev/" class="externalLink" title="Developer Resources">Developer Resources</a> </li> 
     <li class="none"> <a href="http://www.apache.org/foundation/sponsorship.html" class="externalLink" title="Sponsorship">Sponsorship</a> </li> 
     <li class="none"> <a href="http://www.apache.org/foundation/thanks.html" class="externalLink" title="Thanks">Thanks</a> </li> 
    </ul> 
    <a href="http://www.apache.org/events/current-event.html" title="ApacheCon" class="poweredBy"> <img class="poweredBy" alt="ApacheCon" src="http://www.apache.org/events/current-event-125x125.png" /> </a> 
    <a href="http://maven.apache.org/" title="Maven" class="poweredBy"> <img class="poweredBy" alt="Maven" src="http://maven.apache.org/images/logos/maven-feather.png" /> </a> 
   </div> 
  </div> 
  <div id="bodyColumn"> 
   <div id="contentBox"> 
    <!-- Licensed to the Apache Software Foundation (ASF) under one or more
  contributor license agreements.  See the NOTICE file distributed with
  this work for additional information regarding copyright ownership.
  The ASF licenses this file to You under the Apache License, Version 2.0
  (the "License"); you may not use this file except in compliance with
  the License.  You may obtain a copy of the License at

       http://www.apache.org/licenses/LICENSE-2.0

   Unless required by applicable law or agreed to in writing, software
   distributed under the License is distributed on an "AS IS" BASIS,
   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   See the License for the specific language governing permissions and
   limitations under the License. --> 
    <!-- $Revision: 1.1 $ $Date: 2013/08/12 15:49:58 $ --> 
    <div class="section"> 
     <h2>1 Statistics<a name="a1_Statistics"></a></h2> 
     <div class="section"> 
      <h3>1.1 Overview<a name="a1.1_Overview"></a></h3> 
      <p> The statistics package provides frameworks and implementations for basic Descriptive statistics, frequency distributions, bivariate regression, and t-, chi-square and ANOVA test statistics. </p> 
      <p> <a href="#a1.2_Descriptive_statistics">Descriptive statistics</a><br /><br /> <a href="#a1.3_Frequency_distributions">Frequency distributions</a><br /><br /> <a href="#a1.4_Simple_regression">Simple Regression</a><br /><br /> <a href="#a1.5_Multiple_linear_regression">Multiple Regression</a><br /><br /> <a href="#a1.6_Rank_transformations">Rank transformations</a><br /><br /> <a href="#a1.7_Covariance_and_correlation">Covariance and correlation</a><br /><br /> <a href="#a1.8_Statistical_tests">Statistical Tests</a><br /><br /> </p> 
     </div> 
     <div class="section"> 
      <h3>1.2 Descriptive statistics<a name="a1.2_Descriptive_statistics"></a></h3> 
      <p> The stat package includes a framework and default implementations for the following Descriptive statistics: </p> 
      <ul> 
       <li>arithmetic and geometric means</li> 
       <li>variance and standard deviation</li> 
       <li>sum, product, log sum, sum of squared values</li> 
       <li>minimum, maximum, median, and percentiles</li> 
       <li>skewness and kurtosis</li> 
       <li>first, second, third and fourth moments</li> 
      </ul> 
      <p> With the exception of percentiles and the median, all of these statistics can be computed without maintaining the full list of input data values in memory. The stat package provides interfaces and implementations that do not require value storage as well as implementations that operate on arrays of stored values. </p> 
      <p> The top level interface is <a href="../apidocs/org/apache/commons/math3/stat/descriptive/UnivariateStatistic.html"> 
        <clt fqn="org.apache.commons.math3.stat.descriptive.UnivariateStatistic" api="UnivariateStatistic" kind="class">
          UnivariateStatistic 
        </clt></a>. This interface, implemented by all statistics, consists of <tt> 
        <clt fqn="org.apache.commons.math3.stat.descriptive.UnivariateStatistic.evaluate" api="evaluate" kind="method">
          evaluate() 
        </clt></tt> methods that take double[] arrays as arguments and return the value of the statistic. This interface is extended by <a href="../apidocs/org/apache/commons/math3/stat/descriptive/StorelessUnivariateStatistic.html"> 
        <clt fqn="org.apache.commons.math3.stat.descriptive.StorelessUnivariateStatistic" api="StorelessUnivariateStatistic" kind="class">
          StorelessUnivariateStatistic 
        </clt></a>, which adds <tt> 
        <clt fqn="org.apache.commons.math3.stat.descriptive.StorelessUnivariateStatistic.increment" api="increment" kind="method">
          increment(), 
        </clt></tt> <tt> 
        <clt fqn="org.apache.commons.math3.stat.descriptive.StorelessUnivariateStatistic.getResult" api="getResult" kind="method">
          getResult() 
        </clt></tt> and associated methods to support &quot;storageless&quot; implementations that maintain counters, sums or other state information as values are added using the <tt> 
        <clt fqn="org.apache.commons.math3.stat.descriptive.StorelessUnivariateStatistic.increment" api="increment" kind="method">
          increment() 
        </clt></tt> method. </p> 
      <p> Abstract implementations of the top level interfaces are provided in <a href="../apidocs/org/apache/commons/math3/stat/descriptive/AbstractUnivariateStatistic.html"> 
        <clt fqn="org.apache.commons.math3.stat.descriptive.AbstractUnivariateStatistic" api="AbstractUnivariateStatistic" kind="class">
          AbstractUnivariateStatistic 
        </clt></a> and <a href="../apidocs/org/apache/commons/math3/stat/descriptive/AbstractStorelessUnivariateStatistic.html"> 
        <clt fqn="org.apache.commons.math3.stat.descriptive.AbstractStorelessUnivariateStatistic" api="AbstractStorelessUnivariateStatistic" kind="class">
          AbstractStorelessUnivariateStatistic 
        </clt></a> respectively. </p> 
      <p> Each statistic is implemented as a separate class, in one of the subpackages (moment, rank, summary) and each extends one of the abstract classes above (depending on whether or not value storage is required to compute the statistic). There are several ways to instantiate and use statistics. Statistics can be instantiated and used directly, but it is generally more convenient (and efficient) to access them using the provided aggregates, <a href="../apidocs/org/apache/commons/math3/stat/descriptive/DescriptiveStatistics.html"> 
        <clt fqn="org.apache.commons.math3.stat.descriptive.DescriptiveStatistics" api="DescriptiveStatistics" kind="class">
          DescriptiveStatistics 
        </clt></a> and <a href="../apidocs/org/apache/commons/math3/stat/descriptive/SummaryStatistics.html"> 
        <clt fqn="org.apache.commons.math3.stat.descriptive.SummaryStatistics" api="SummaryStatistics" kind="class">
          SummaryStatistics. 
        </clt></a> </p> 
      <p> <tt> 
        <clt fqn="org.apache.commons.math3.stat.descriptive.DescriptiveStatistics" api="DescriptiveStatistics" kind="class">
          DescriptiveStatistics 
        </clt></tt> maintains the input data in memory and has the capability of producing &quot;rolling&quot; statistics computed from a &quot;window&quot; consisting of the most recently added values. </p> 
      <p> <tt> 
        <clt fqn="org.apache.commons.math3.stat.descriptive.SummaryStatistics" api="SummaryStatistics" kind="class">
          SummaryStatistics 
        </clt></tt> does not store the input data values in memory, so the statistics included in this aggregate are limited to those that can be computed in one pass through the data without access to the full array of values. </p> 
      <p> </p> 
      <table border="0" class="bodyTable"> 
       <tbody> 
        <tr class="a"> 
         <th>Aggregate</th> 
         <th>Statistics Included</th> 
         <th>Values stored?</th> 
         <th>&quot;Rolling&quot; capability?</th> 
        </tr> 
        <tr class="b"> 
         <td> <a href="../apidocs/org/apache/commons/math3/stat/descriptive/DescriptiveStatistics.html"> 
           <clt fqn="org.apache.commons.math3.stat.descriptive.DescriptiveStatistics" api="DescriptiveStatistics" kind="class">
             DescriptiveStatistics 
           </clt></a></td> 
         <td>min, max, mean, geometric mean, n, sum, sum of squares, standard deviation, variance, percentiles, skewness, kurtosis, median</td> 
         <td>Yes</td> 
         <td>Yes</td> 
        </tr> 
        <tr class="a"> 
         <td> <a href="../apidocs/org/apache/commons/math3/stat/descriptive/SummaryStatistics.html"> 
           <clt fqn="org.apache.commons.math3.stat.descriptive.SummaryStatistics" api="SummaryStatistics" kind="class">
             SummaryStatistics 
           </clt></a></td> 
         <td>min, max, mean, geometric mean, n, sum, sum of squares, standard deviation, variance</td> 
         <td>No</td> 
         <td>No</td> 
        </tr> 
       </tbody> 
      </table> 
      <p> <tt> 
        <clt fqn="org.apache.commons.math3.stat.descriptive.SummaryStatistics" api="SummaryStatistics" kind="class">
          SummaryStatistics 
        </clt></tt> can be aggregated using <a href="../apidocs/org/apache/commons/math3/stat/descriptive/AggregateSummaryStatistics.html"> 
        <clt fqn="org.apache.commons.math3.stat.descriptive.AggregateSummaryStatistics" api="AggregateSummaryStatistics" kind="class">
          AggregateSummaryStatistics. 
        </clt></a> This class can be used to concurrently gather statistics for multiple datasets as well as for a combined sample including all of the data. </p> 
      <p> <tt> 
        <clt fqn="org.apache.commons.math3.stat.descriptive.MultivariateSummaryStatistics" api="MultivariateSummaryStatistics" kind="class">
          MultivariateSummaryStatistics 
        </clt></tt> is similar to <tt> 
        <clt fqn="org.apache.commons.math3.stat.descriptive.SummaryStatistics" api="SummaryStatistics" kind="class">
          SummaryStatistics 
        </clt></tt> but handles n-tuple values instead of scalar values. It can also compute the full covariance matrix for the input data. </p> 
      <p> Neither <tt> 
        <clt fqn="org.apache.commons.math3.stat.descriptive.DescriptiveStatistics" api="DescriptiveStatistics" kind="class">
          DescriptiveStatistics 
        </clt></tt> nor <tt> 
        <clt fqn="org.apache.commons.math3.stat.descriptive.SummaryStatistics" api="SummaryStatistics" kind="class">
          SummaryStatistics 
        </clt></tt> is thread-safe. <a href="../apidocs/org/apache/commons/math3/stat/descriptive/SynchronizedDescriptiveStatistics.html"> 
        <clt fqn="org.apache.commons.math3.stat.descriptive.SynchronizedDescriptiveStatistics" api="SynchronizedDescriptiveStatistics" kind="class">
          SynchronizedDescriptiveStatistics 
        </clt></a> and <a href="../apidocs/org/apache/commons/math3/stat/descriptive/SynchronizedSummaryStatistics.html"> 
        <clt fqn="org.apache.commons.math3.stat.descriptive.SynchronizedSummaryStatistics" api="SynchronizedSummaryStatistics" kind="class">
          SynchronizedSummaryStatistics 
        </clt></a>, respectively, provide thread-safe versions for applications that require concurrent access to statistical aggregates by multiple threads. <a href="../apidocs/org/apache/commons/math3/stat/descriptive/SynchronizedMultiVariateSummaryStatistics.html"> 
        <clt fqn="org.apache.commons.math3.stat.descriptive.SynchronizedMultivariateSummaryStatistics" api="SynchronizedMultivariateSummaryStatistics" kind="class">
          SynchronizedMultivariateSummaryStatistics 
        </clt></a> provides thread-safe <tt> 
        <clt fqn="org.apache.commons.math3.stat.descriptive.MultivariateSummaryStatistics" api="MultivariateSummaryStatistics" kind="class">
          MultivariateSummaryStatistics. 
        </clt></tt> </p> 
      <p> There is also a utility class, <a href="../apidocs/org/apache/commons/math3/stat/StatUtils.html"> 
        <clt fqn="org.apache.commons.math3.stat.StatUtils" api="StatUtils" kind="class">
          StatUtils 
        </clt></a>, that provides static methods for computing statistics directly from double[] arrays. </p> 
      <p> Here are some examples showing how to compute Descriptive statistics. </p> 
      <dl> 
       <dt>
         Compute summary statistics for a list of double values 
       </dt> 
       <br /> 
       <br /> 
       <dd>
         Using the 
        <tt> 
         <clt fqn="org.apache.commons.math3.stat.descriptive.DescriptiveStatistics" api="DescriptiveStatistics" kind="class">
           DescriptiveStatistics 
         </clt></tt> aggregate (values are stored in memory): 
        <div class="source"> 
         <pre>
// Get a DescriptiveStatistics instance
DescriptiveStatistics stats = new DescriptiveStatistics();

// Add the data from the array
for( int i = 0; i &lt; inputArray.length; i++) {
        stats.addValue(inputArray[i]);
}

// Compute some statistics
double mean = stats.getMean();
double std = stats.getStandardDeviation();
double median = stats.getPercentile(50);
        </pre> 
        </div> 
       </dd> 
       <dd>
         Using the 
        <tt> 
         <clt fqn="org.apache.commons.math3.stat.descriptive.SummaryStatistics" api="SummaryStatistics" kind="class">
           SummaryStatistics 
         </clt></tt> aggregate (values are 
        <b>not</b> stored in memory): 
        <div class="source"> 
         <pre>
// Get a SummaryStatistics instance
SummaryStatistics stats = new SummaryStatistics();

// Read data from an input stream,
// adding values and updating sums, counters, etc.
while (line != null) {
        line = in.readLine();
        stats.addValue(Double.parseDouble(line.trim()));
}
in.close();

// Compute the statistics
double mean = stats.getMean();
double std = stats.getStandardDeviation();
//double median = stats.getMedian(); &lt;-- NOT AVAILABLE
        </pre> 
        </div> 
       </dd> 
       <dd>
         Using the 
        <tt> 
         <clt fqn="org.apache.commons.math3.stat.StatUtils" api="StatUtils" kind="class">
           StatUtils 
         </clt></tt> utility class: 
        <div class="source"> 
         <pre>
// Compute statistics directly from the array
// assume values is a double[] array
double mean = StatUtils.mean(values);
double std = StatUtils.variance(values);
double median = StatUtils.percentile(values, 50);

// Compute the mean of the first three values in the array
mean = StatUtils.mean(values, 0, 3);
        </pre> 
        </div> 
       </dd> 
       <dt>
         Maintain a &quot;rolling mean&quot; of the most recent 100 values from an input stream 
       </dt> 
       <br /> 
       <br /> 
       <dd>
         Use a 
        <tt> 
         <clt fqn="org.apache.commons.math3.stat.descriptive.DescriptiveStatistics" api="DescriptiveStatistics" kind="class">
           DescriptiveStatistics 
         </clt></tt> instance with window size set to 100 
        <div class="source"> 
         <pre>
// Create a DescriptiveStats instance and set the window size to 100
DescriptiveStatistics stats = new DescriptiveStatistics();
stats.setWindowSize(100);

// Read data from an input stream,
// displaying the mean of the most recent 100 observations
// after every 100 observations
long nLines = 0;
while (line != null) {
        line = in.readLine();
        stats.addValue(Double.parseDouble(line.trim()));
        if (nLines == 100) {
                nLines = 0;
                System.out.println(stats.getMean());
       }
}
in.close();
        </pre> 
        </div> 
       </dd> 
       <dt>
         Compute statistics in a thread-safe manner 
       </dt> 
       <br /> 
       <dd>
         Use a 
        <tt> 
         <clt fqn="org.apache.commons.math3.stat.descriptive.SynchronizedDescriptiveStatistics" api="SynchronizedDescriptiveStatistics" kind="class">
           SynchronizedDescriptiveStatistics 
         </clt></tt> instance 
        <div class="source"> 
         <pre>
// Create a SynchronizedDescriptiveStatistics instance and
// use as any other DescriptiveStatistics instance
DescriptiveStatistics stats = new SynchronizedDescriptiveStatistics();
        </pre> 
        </div> 
       </dd> 
       <dt>
         Compute statistics for multiple samples and overall statistics concurrently 
       </dt> 
       <br /> 
       <dd>
         There are two ways to do this using 
        <tt> 
         <clt fqn="org.apache.commons.math3.stat.descriptive.AggregateSummaryStatistics" api="AggregateSummaryStatistics" kind="class">
           AggregateSummaryStatistics. 
         </clt></tt> The first is to use an 
        <tt> 
         <clt fqn="org.apache.commons.math3.stat.descriptive.AggregateSummaryStatistics" api="AggregateSummaryStatistics" kind="class">
           AggregateSummaryStatistics 
         </clt></tt> instance to accumulate overall statistics contributed by 
        <tt> 
         <clt fqn="org.apache.commons.math3.stat.descriptive.SummaryStatistics" api="SummaryStatistics" kind="class">
           SummaryStatistics 
         </clt></tt> instances created using 
        <a href="../apidocs/org/apache/commons/math3/stat/descriptive/AggregateSummaryStatistics.html#createContributingStatistics"> 
         <clt fqn="org.apache.commons.math3.stat.descriptive.AggregateSummaryStatistics.createContributingStatistics" api="createContributingStatistics" kind="method">
           AggregateSummaryStatistics.createContributingStatistics() 
         </clt></a>: 
        <div class="source"> 
         <pre>
// Create a AggregateSummaryStatistics instance to accumulate the overall statistics 
// and AggregatingSummaryStatistics for the subsamples
AggregateSummaryStatistics aggregate = new AggregateSummaryStatistics();
SummaryStatistics setOneStats = aggregate.createContributingStatistics();
SummaryStatistics setTwoStats = aggregate.createContributingStatistics();
// Add values to the subsample aggregates
setOneStats.addValue(2);
setOneStats.addValue(3);
setTwoStats.addValue(2);
setTwoStats.addValue(4);
...
// Full sample data is reported by the aggregate
double totalSampleSum = aggregate.getSum();
        </pre> 
        </div> The above approach has the disadvantages that the 
        <tt> 
         <clt fqn="org.apache.commons.math3.stat.descriptive.SummaryStatistics.addValue" api="addValue" kind="class">
           addValue 
         </clt></tt> calls must be synchronized on the 
        <tt> 
         <clt fqn="org.apache.commons.math3.stat.descriptive.SummaryStatistics" api="SummaryStatistics" kind="class">
           SummaryStatistics 
         </clt></tt> instance maintained by the aggregate and each value addition updates the aggregate as well as the subsample. For applications that can wait to do the aggregation until all values have been added, a static 
        <a href="../apidocs/org/apache/commons/math3/stat/descriptive/AggregateSummaryStatistics.html#aggregatejava.util.Collection"> 
         <clt fqn="org.apache.commons.math3.stat.descriptive.AggregateSummaryStatistics.aggregate" api="aggregate" kind="unknown">
           aggregate 
         </clt></a> method is available, as shown in the following example. This method should be used when aggregation needs to be done across threads. 
        <div class="source"> 
         <pre>
// Create SummaryStatistics instances for the subsample data
SummaryStatistics setOneStats = new SummaryStatistics();
SummaryStatistics setTwoStats = new SummaryStatistics();
// Add values to the subsample SummaryStatistics instances
setOneStats.addValue(2);
setOneStats.addValue(3);
setTwoStats.addValue(2);
setTwoStats.addValue(4);
...
// Aggregate the subsample statistics
Collection&lt;SummaryStatistics&gt; aggregate = new ArrayList&lt;SummaryStatistics&gt;();
aggregate.add(setOneStats);
aggregate.add(setTwoStats);
StatisticalSummary aggregatedStats = AggregateSummaryStatistics.aggregate(aggregate);

// Full sample data is reported by aggregatedStats
double totalSampleSum = aggregatedStats.getSum();
        </pre> 
        </div> 
       </dd> 
      </dl> 
     </div> 
     <div class="section"> 
      <h3>1.3 
       <clt fqn="org.apache.commons.math3.stat.Frequency" api="Frequency" kind="class">
         Frequency 
       </clt> distributions<a name="a1.3_&lt;clt fqn=org.apache.commons.math3.stat.Frequency api=Frequency kind=class&gt;Frequency&lt;/clt&gt;_distributions"></a></h3> 
      <p> <a href="../apidocs/org/apache/commons/math3/stat/Frequency.html"> 
        <clt fqn="org.apache.commons.math3.stat.Frequency" api="Frequency" kind="unknown">
          Frequency 
        </clt></a> provides a simple interface for maintaining counts and percentages of discrete values. </p> 
      <p> Strings, integers, longs and chars are all supported as value types, as well as instances of any class that implements <tt>Comparable.</tt> The ordering of values used in computing cumulative frequencies is by default the <i>natural ordering,</i> but this can be overriden by supplying a <tt>Comparator</tt> to the constructor. Adding values that are not comparable to those that have already been added results in an <tt>IllegalArgumentException.</tt> </p> 
      <p> Here are some examples. </p> 
      <dl> 
       <dt>
         Compute a frequency distribution based on integer values 
       </dt> 
       <br /> 
       <br /> 
       <dd>
         Mixing integers, longs, Integers and Longs: 
        <div class="source"> 
         <pre>
 Frequency f = new Frequency();
 f.addValue(1);
 f.addValue(new Integer(1));
 f.addValue(new Long(1));
 f.addValue(2);
 f.addValue(new Integer(-1));
 System.out.prinltn(f.getCount(1));   // displays 3
 System.out.println(f.getCumPct(0));  // displays 0.2
 System.out.println(f.getPct(new Integer(1)));  // displays 0.6
 System.out.println(f.getCumPct(-2));   // displays 0
 System.out.println(f.getCumPct(10));  // displays 1
          </pre> 
        </div> 
       </dd> 
       <dt>
         Count string frequencies 
       </dt> 
       <br /> 
       <br /> 
       <dd>
         Using case-sensitive comparison, alpha sort order (natural comparator): 
        <div class="source"> 
         <pre>
Frequency f = new Frequency();
f.addValue(&quot;one&quot;);
f.addValue(&quot;One&quot;);
f.addValue(&quot;oNe&quot;);
f.addValue(&quot;Z&quot;);
System.out.println(f.getCount(&quot;one&quot;)); // displays 1
System.out.println(f.getCumPct(&quot;Z&quot;));  // displays 0.5
System.out.println(f.getCumPct(&quot;Ot&quot;)); // displays 0.25
          </pre> 
        </div> 
       </dd> 
       <dd>
         Using case-insensitive comparator: 
        <div class="source"> 
         <pre>
Frequency f = new Frequency(String.CASE_INSENSITIVE_ORDER);
f.addValue(&quot;one&quot;);
f.addValue(&quot;One&quot;);
f.addValue(&quot;oNe&quot;);
f.addValue(&quot;Z&quot;);
System.out.println(f.getCount(&quot;one&quot;));  // displays 3
System.out.println(f.getCumPct(&quot;z&quot;));  // displays 1
          </pre> 
        </div> 
       </dd> 
      </dl> 
     </div> 
     <div class="section"> 
      <h3>1.4 Simple regression<a name="a1.4_Simple_regression"></a></h3> 
      <p> <a href="../apidocs/org/apache/commons/math3/stat/regression/SimpleRegression.html"> 
        <clt fqn="org.apache.commons.math3.stat.regression.SimpleRegression" api="SimpleRegression" kind="class">
          SimpleRegression 
        </clt></a> provides ordinary least squares regression with one independent variable estimating the linear model: </p> 
      <p> <tt> y = intercept + slope * x </tt> </p> 
      <p> or </p> 
      <p> <tt> y = slope * x </tt> </p> 
      <p> Standard errors for <tt>intercept</tt> and <tt>slope</tt> are available as well as ANOVA, r-square and Pearson's r statistics. </p> 
      <p> Observations (x,y pairs) can be added to the model one at a time or they can be provided in a 2-dimensional array. The observations are not stored in memory, so there is no limit to the number of observations that can be added to the model. </p> 
      <p> <b>Usage Notes</b>: </p> 
      <ul> 
       <li> When there are fewer than two observations in the model, or when there is no variation in the x values (i.e. all x values are the same) all statistics return <tt>NaN</tt>. At least two observations with different x coordinates are requred to estimate a bivariate regression model.</li> 
       <li> getters for the statistics always compute values based on the current set of observations -- i.e., you can get statistics, then add more data and get updated statistics without using a new instance. There is no &quot;compute&quot; method that updates all statistics. Each of the getters performs the necessary computations to return the requested statistic.</li> 
       <li> The intercept term may be suppressed by passing <tt>false</tt> to the <a href="../apidocs/org/apache/commons/math3/stat/regression/SimpleRegression.html#SimpleRegressionboolean"> 
         <clt fqn="org.apache.commons.math3.stat.regression.SimpleRegression.SimpleRegression" api="SimpleRegression" kind="method">
           SimpleRegression(boolean) 
         </clt></a> constructor. When the <tt> 
         <clt fqn="org.apache.commons.math3.stat.regression.SimpleRegression.hasIntercept" api="hasIntercept" kind="class">
           hasIntercept 
         </clt></tt> property is false, the model is estimated without a constant term and <tt> 
         <clt fqn="org.apache.commons.math3.stat.regression.SimpleRegression.getIntercept" api="getIntercept" kind="method">
           getIntercept() 
         </clt></tt> returns <tt>0</tt>.</li> 
      </ul> 
      <p> <b>Implementation Notes</b>: </p> 
      <ul> 
       <li> As observations are added to the model, the sum of x values, y values, cross products (x times y), and squared deviations of x and y from their respective means are updated using updating formulas defined in &quot;Algorithms for Computing the Sample Variance: Analysis and Recommendations&quot;, Chan, T.F., Golub, G.H., and LeVeque, R.J. 1983, American Statistician, vol. 37, pp. 242-247, referenced in Weisberg, S. &quot;Applied Linear Regression&quot;. 2nd Ed. 1985. All regression statistics are computed from these sums.</li> 
       <li> Inference statistics (confidence intervals, parameter significance levels) are based on on the assumption that the observations included in the model are drawn from a <a class="externalLink" href="http://mathworld.wolfram.com/BivariateNormalDistribution.html"> Bivariate Normal Distribution</a></li> 
      </ul> 
      <p> Here are some examples. </p> 
      <dl> 
       <dt>
         Estimate a model based on observations added one at a time 
       </dt> 
       <dd>
         Instantiate a regression instance and add data points 
        <div class="source"> 
         <pre>
regression = new SimpleRegression();
regression.addData(1d, 2d);
// At this point, with only one observation,
// all regression statistics will return NaN

regression.addData(3d, 3d);
// With only two observations,
// slope and intercept can be computed
// but inference statistics will return NaN

regression.addData(3d, 3d);
// Now all statistics are defined.
         </pre> 
        </div> 
       </dd> 
       <dd>
         Compute some statistics based on observations added so far 
        <div class="source"> 
         <pre>
System.out.println(regression.getIntercept());
// displays intercept of regression line

System.out.println(regression.getSlope());
// displays slope of regression line

System.out.println(regression.getSlopeStdErr());
// displays slope standard error
         </pre> 
        </div> 
       </dd> 
       <dd>
         Use the regression model to predict the y value for a new x value 
        <div class="source"> 
         <pre>
System.out.println(regression.predict(1.5d)
// displays predicted y value for x = 1.5
         </pre> 
        </div> More data points can be added and subsequent getXxx calls will incorporate additional data in statistics. 
       </dd> 
       <br /> 
       <br /> 
       <dt>
         Estimate a model from a double[][] array of data points 
       </dt> 
       <dd>
         Instantiate a regression object and load dataset 
        <div class="source"> 
         <pre>
double[][] data = { { 1, 3 }, {2, 5 }, {3, 7 }, {4, 14 }, {5, 11 }};
SimpleRegression regression = new SimpleRegression();
regression.addData(data);
          </pre> 
        </div> 
       </dd> 
       <dd>
         Estimate regression model based on data 
        <div class="source"> 
         <pre>
System.out.println(regression.getIntercept());
// displays intercept of regression line

System.out.println(regression.getSlope());
// displays slope of regression line

System.out.println(regression.getSlopeStdErr());
// displays slope standard error
         </pre> 
        </div> More data points -- even another double[][] array -- can be added and subsequent getXxx calls will incorporate additional data in statistics. 
       </dd> 
       <br /> 
       <br /> 
       <dt>
         Estimate a model from a double[][] array of data points, 
        <i>excluding</i> the intercept 
       </dt> 
       <dd>
         Instantiate a regression object and load dataset 
        <div class="source"> 
         <pre>
double[][] data = { { 1, 3 }, {2, 5 }, {3, 7 }, {4, 14 }, {5, 11 }};
SimpleRegression regression = new SimpleRegression(false);
//the argument, false, tells the class not to include a constant
regression.addData(data);
          </pre> 
        </div> 
       </dd> 
       <dd>
         Estimate regression model based on data 
        <div class="source"> 
         <pre>
System.out.println(regression.getIntercept());
// displays intercept of regression line, since we have constrained the constant, 0.0 is returned

System.out.println(regression.getSlope());
// displays slope of regression line

System.out.println(regression.getSlopeStdErr());
// displays slope standard error

System.out.println(regression.getInterceptStdErr() );
// will return Double.NaN, since we constrained the parameter to zero
         </pre> 
        </div> Caution must be exercised when interpreting the slope when no constant is being estimated. The slope may be biased. 
       </dd> 
      </dl> 
     </div> 
     <div class="section"> 
      <h3>1.5 Multiple linear regression<a name="a1.5_Multiple_linear_regression"></a></h3> 
      <p> <a href="../apidocs/org/apache/commons/math3/stat/regression/OLSMultipleLinearRegression.html"> 
        <clt fqn="org.apache.commons.math3.stat.regression.OLSMultipleLinearRegression" api="OLSMultipleLinearRegression" kind="class">
          OLSMultipleLinearRegression 
        </clt></a> and <a href="../apidocs/org/apache/commons/math3/stat/regression/GLSMultipleLinearRegression.html"> 
        <clt fqn="org.apache.commons.math3.stat.regression.GLSMultipleLinearRegression" api="GLSMultipleLinearRegression" kind="class">
          GLSMultipleLinearRegression 
        </clt></a> provide least squares regression to fit the linear model: </p> 
      <p> <tt> Y=X*b+u </tt> </p> 
      <p> where Y is an n-vector <b>regressand</b>, X is a [n,k] matrix whose k columns are called <b>regressors</b>, b is k-vector of <b>regression parameters</b> and u is an n-vector of <b>error terms</b> or <b>residuals</b>. </p> 
      <p> <a href="../apidocs/org/apache/commons/math3/stat/regression/OLSMultipleLinearRegression.html"> 
        <clt fqn="org.apache.commons.math3.stat.regression.OLSMultipleLinearRegression" api="OLSMultipleLinearRegression" kind="class">
          OLSMultipleLinearRegression 
        </clt></a> provides Ordinary Least Squares Regression, and <a href="../apidocs/org/apache/commons/math3/stat/regression/GLSMultipleLinearRegression.html"> 
        <clt fqn="org.apache.commons.math3.stat.regression.GLSMultipleLinearRegression" api="GLSMultipleLinearRegression" kind="class">
          GLSMultipleLinearRegression 
        </clt></a> implements Generalized Least Squares. See the javadoc for these classes for details on the algorithms and forumlas used. </p> 
      <p> Data for OLS models can be loaded in a single double[] array, consisting of concatenated rows of data, each containing the regressand (Y) value, followed by regressor values; or using a double[][] array with rows corresponding to observations. GLS models also require a double[][] array representing the covariance matrix of the error terms. See <a href="../apidocs/org/apache/commons/math3/stat/regression/AbstractMultipleLinearRegression.html#newSampleDatadouble_int_int"> 
        <clt fqn="org.apache.commons.math3.stat.regression.AbstractMultipleLinearRegression.newSampleData" api="newSampleData" kind="class">
          AbstractMultipleLinearRegression#newSampleData(double[],int,int) 
        </clt></a>, <a href="../apidocs/org/apache/commons/math3/stat/regression/OLSMultipleLinearRegression.html#newSampleDatadouble_double"> 
        <clt fqn="org.apache.commons.math3.stat.regression.OLSMultipleLinearRegression.newSampleData" api="newSampleData" kind="class">
          OLSMultipleLinearRegression#newSampleData(double[], double[][]) 
        </clt></a> and <a href="../apidocs/org/apache/commons/math3/stat/regression/GLSMultipleLinearRegression.html#newSampleDatadouble_double_double"> 
        <clt fqn="org.apache.commons.math3.stat.regression.GLSMultipleLinearRegression.newSampleData" api="newSampleData" kind="class">
          GLSMultipleLinearRegression#newSampleData(double[],double[][],double[][]) 
        </clt></a> for details. </p> 
      <p> <b>Usage Notes</b>: </p> 
      <ul> 
       <li> Data are validated when invoking any of the newSample, newX, newY or newCovariance methods and <tt>IllegalArgumentException</tt> is thrown when input data arrays do not have matching dimensions or do not contain sufficient data to estimate the model. </li> 
       <li> By default, regression models are estimated with intercept terms. In the notation above, this implies that the X matrix contains an initial row identically equal to 1. X data supplied to the newX or newSample methods should not include this column - the data loading methods will create it automatically. To estimate a model without an intercept term, set the <tt>noIntercept</tt> property to <tt>true.</tt></li> 
      </ul> 
      <p> Here are some examples. </p> 
      <dl> 
       <dt>
         OLS regression 
       </dt> 
       <br /> 
       <br /> 
       <dd>
         Instantiate an OLS regression object and load a dataset: 
        <div class="source"> 
         <pre>
OLSMultipleLinearRegression regression = new OLSMultipleLinearRegression();
double[] y = new double[]{11.0, 12.0, 13.0, 14.0, 15.0, 16.0};
double[] x = new double[6][];
x[0] = new double[]{0, 0, 0, 0, 0};
x[1] = new double[]{2.0, 0, 0, 0, 0};
x[2] = new double[]{0, 3.0, 0, 0, 0};
x[3] = new double[]{0, 0, 4.0, 0, 0};
x[4] = new double[]{0, 0, 0, 5.0, 0};
x[5] = new double[]{0, 0, 0, 0, 6.0};          
regression.newSample(y, x);
          </pre> 
        </div> 
       </dd> 
       <dd>
         Get regression parameters and diagnostics: 
        <div class="source"> 
         <pre>
double[] beta = regression.estimateRegressionParameters();       

double[] residuals = regression.estimateResiduals();

double[][] parametersVariance = regression.estimateRegressionParametersVariance();

double regressandVariance = regression.estimateRegressandVariance();

double rSquared = regression.calculateRSquared();

double sigma = regression.estimateRegressionStandardError();
         </pre> 
        </div> 
       </dd> 
       <dt>
         GLS regression 
       </dt> 
       <br /> 
       <br /> 
       <dd>
         Instantiate a GLS regression object and load a dataset: 
        <div class="source"> 
         <pre>
GLSMultipleLinearRegression regression = new GLSMultipleLinearRegression();
double[] y = new double[]{11.0, 12.0, 13.0, 14.0, 15.0, 16.0};
double[] x = new double[6][];
x[0] = new double[]{0, 0, 0, 0, 0};
x[1] = new double[]{2.0, 0, 0, 0, 0};
x[2] = new double[]{0, 3.0, 0, 0, 0};
x[3] = new double[]{0, 0, 4.0, 0, 0};
x[4] = new double[]{0, 0, 0, 5.0, 0};
x[5] = new double[]{0, 0, 0, 0, 6.0};          
double[][] omega = new double[6][];
omega[0] = new double[]{1.1, 0, 0, 0, 0, 0};
omega[1] = new double[]{0, 2.2, 0, 0, 0, 0};
omega[2] = new double[]{0, 0, 3.3, 0, 0, 0};
omega[3] = new double[]{0, 0, 0, 4.4, 0, 0};
omega[4] = new double[]{0, 0, 0, 0, 5.5, 0};
omega[5] = new double[]{0, 0, 0, 0, 0, 6.6};
regression.newSampleData(y, x, omega); 
          </pre> 
        </div> 
       </dd> 
      </dl> 
     </div> 
     <div class="section"> 
      <h3>1.6 Rank transformations<a name="a1.6_Rank_transformations"></a></h3> 
      <p> Some statistical algorithms require that input data be replaced by ranks. The <a href="../apidocs/org/apache/commons/math3/stat/ranking/package-summary.html"> org.apache.commons.math3.stat.ranking</a> package provides rank transformation. <a href="../apidocs/org/apache/commons/math3/stat/ranking/RankingAlgorithm.html"> 
        <clt fqn="org.apache.commons.math3.stat.ranking.RankingAlgorithm" api="RankingAlgorithm" kind="class">
          RankingAlgorithm 
        </clt></a> defines the interface for ranking. <a href="../apidocs/org/apache/commons/math3/stat/ranking/NaturalRanking.html"> 
        <clt fqn="org.apache.commons.math3.stat.ranking.NaturalRanking" api="NaturalRanking" kind="class">
          NaturalRanking 
        </clt></a> provides an implementation that has two configuration options. </p> 
      <ul> 
       <li><a href="../apidocs/org/apache/commons/math3/stat/ranking/TiesStrategy.html"> Ties strategy</a> deterimines how ties in the source data are handled by the ranking</li> 
       <li><a href="../apidocs/org/apache/commons/math3/stat/ranking/NaNStrategy.html"> NaN strategy</a> determines how NaN values in the source data are handled.</li> 
      </ul> 
      <p> Examples: </p> 
      <div class="source"> 
       <pre>
NaturalRanking ranking = new NaturalRanking(NaNStrategy.MINIMAL,
TiesStrategy.MAXIMUM);
double[] data = { 20, 17, 30, 42.3, 17, 50,
                  Double.NaN, Double.NEGATIVE_INFINITY, 17 };
double[] ranks = ranking.rank(exampleData);
         </pre> 
      </div> results in 
      <tt>ranks</tt> containing 
      <tt>{6, 5, 7, 8, 5, 9, 2, 2, 5}.</tt> 
      <div class="source"> 
       <pre>
new NaturalRanking(NaNStrategy.REMOVED,TiesStrategy.SEQUENTIAL).rank(exampleData);   
         </pre> 
      </div> returns 
      <tt>{5, 2, 6, 7, 3, 8, 1, 4}.</tt> 
      <p> The default <tt> 
        <clt fqn="org.apache.commons.math3.stat.ranking.NaNStrategy" api="NaNStrategy" kind="class">
          NaNStrategy 
        </clt></tt> is NaNStrategy.MAXIMAL. This makes <tt>NaN</tt> values larger than any other value (including <tt>Double.POSITIVE_INFINITY</tt>). The default <tt> 
        <clt fqn="org.apache.commons.math3.stat.ranking.TiesStrategy" api="TiesStrategy" kind="class">
          TiesStrategy 
        </clt></tt> is <tt> 
        <clt fqn="org.apache.commons.math3.stat.ranking.TiesStrategy.AVERAGE" api="AVERAGE" kind="field">
          TiesStrategy.AVERAGE, 
        </clt></tt> which assigns tied values the average of the ranks applicable to the sequence of ties. See the <a href="../apidocs/org/apache/commons/math3/stat/ranking/NaturalRanking.html"> 
        <clt fqn="org.apache.commons.math3.stat.ranking.NaturalRanking" api="NaturalRanking" kind="class">
          NaturalRanking 
        </clt></a> for more examples and <a href="../apidocs/org/apache/commons/math3/stat/ranking/TiesStrategy.html"> 
        <clt fqn="org.apache.commons.math3.stat.ranking.TiesStrategy" api="TiesStrategy" kind="class">
          TiesStrategy 
        </clt></a> and <a href="../apidocs/org/apache/commons/math3/stat/ranking/NaNStrategy.html"> 
        <clt fqn="org.apache.commons.math3.stat.ranking.NaNStrategy" api="NaNStrategy" kind="class">
          NaNStrategy 
        </clt></a> for details on these configuration options. </p> 
     </div> 
     <div class="section"> 
      <h3>1.7 
       <clt fqn="org.apache.commons.math3.stat.correlation.Covariance" api="Covariance" kind="class">
         Covariance 
       </clt> and correlation<a name="a1.7_&lt;clt fqn=org.apache.commons.math3.stat.correlation.Covariance api=Covariance kind=class&gt;Covariance&lt;/clt&gt;_and_correlation"></a></h3> 
      <p> The <a href="../apidocs/org/apache/commons/math3/stat/correlation/package-summary.html"> 
        <clt fqn="org.apache.commons.math3.stat.correlation.SpearmansCorrelation.correlation" api="correlation" kind="field">
          org.apache.commons.math3.stat.correlation 
        </clt></a> package computes covariances and correlations for pairs of arrays or columns of a matrix. <a href="../apidocs/org/apache/commons/math3/stat/correlation/Covariance.html"> 
        <clt fqn="org.apache.commons.math3.stat.correlation.Covariance" api="Covariance" kind="unknown">
          Covariance 
        </clt></a> computes covariances, <a href="../apidocs/org/apache/commons/math3/stat/correlation/PearsonsCorrelation.html"> 
        <clt fqn="org.apache.commons.math3.stat.correlation.PearsonsCorrelation" api="PearsonsCorrelation" kind="class">
          PearsonsCorrelation 
        </clt></a> provides Pearson's Product-Moment correlation coefficients and <a href="../apidocs/org/apache/commons/math3/stat/correlation/SpearmansCorrelation.html"> 
        <clt fqn="org.apache.commons.math3.stat.correlation.SpearmansCorrelation" api="SpearmansCorrelation" kind="class">
          SpearmansCorrelation 
        </clt></a> computes Spearman's rank correlation. </p> 
      <p> <b>Implementation Notes</b> </p> 
      <ul> 
       <li> Unbiased covariances are given by the formula <br /><br /> <tt>cov(X, Y) = sum [(x<sub>i</sub> - E(X))(y<sub>i</sub> - E(Y))] / (n - 1)</tt> where <tt>E(X)</tt> is the mean of <tt>X</tt> and <tt>E(Y)</tt> is the mean of the <tt>Y</tt> values. Non-bias-corrected estimates use <tt>n</tt> in place of <tt> 
         <clt fqn="org.apache.commons.math3.stat.descriptive.moment.FirstMoment.n" api="n" kind="unknown">
           n - 1. 
         </clt></tt> Whether or not covariances are bias-corrected is determined by the optional parameter, &quot;biasCorrected,&quot; which defaults to <tt>true.</tt> </li> 
       <li> <a href="../apidocs/org/apache/commons/math3/stat/correlation/PearsonsCorrelation.html"> 
         <clt fqn="org.apache.commons.math3.stat.correlation.PearsonsCorrelation" api="PearsonsCorrelation" kind="class">
           PearsonsCorrelation 
         </clt></a> computes correlations defined by the formula <br /><br /> <tt>cor(X, Y) = sum[(x<sub>i</sub> - E(X))(y<sub>i</sub> - E(Y))] / [(n - 1)s(X)s(Y)]</tt><br /> where <tt>E(X)</tt> and <tt>E(Y)</tt> are means of <tt>X</tt> and <tt>Y</tt> and <tt>s(X)</tt>, <tt>s(Y)</tt> are standard deviations. </li> 
       <li> <a href="../apidocs/org/apache/commons/math3/stat/correlation/SpearmansCorrelation.html"> 
         <clt fqn="org.apache.commons.math3.stat.correlation.SpearmansCorrelation" api="SpearmansCorrelation" kind="class">
           SpearmansCorrelation 
         </clt></a> applies a rank transformation to the input data and computes Pearson's correlation on the ranked data. The ranking algorithm is configurable. By default, <a href="../apidocs/org/apache/commons/math3/stat/ranking/NaturalRanking.html"> 
         <clt fqn="org.apache.commons.math3.stat.ranking.NaturalRanking" api="NaturalRanking" kind="class">
           NaturalRanking 
         </clt></a> with default strategies for handling ties and NaN values is used. </li> 
      </ul> 
      <p> <b>Examples:</b> </p> 
      <dl> 
       <dt> 
        <b>Covariance of 2 arrays</b> 
       </dt> 
       <br /> 
       <br /> 
       <dd>
         To compute the unbiased covariance between 2 double arrays, 
        <tt>x</tt> and 
        <tt>y</tt>, use: 
        <div class="source"> 
         <pre>
new Covariance().covariance(x, y)
          </pre> 
        </div> For non-bias-corrected covariances, use 
        <div class="source"> 
         <pre>
covariance(x, y, false)
          </pre> 
        </div> 
       </dd> 
       <br /> 
       <br /> 
       <dt> 
        <b>Covariance matrix</b> 
       </dt> 
       <br /> 
       <br /> 
       <dd>
         A covariance matrix over the columns of a source matrix 
        <tt>data</tt> can be computed using 
        <div class="source"> 
         <pre>
new Covariance().computeCovarianceMatrix(data)
          </pre> 
        </div> The i-jth entry of the returned matrix is the unbiased covariance of the ith and jth columns of 
        <tt>data.</tt> As above, to get non-bias-corrected covariances, use 
        <div class="source"> 
         <pre>
computeCovarianceMatrix(data, false)
         </pre> 
        </div> 
       </dd> 
       <br /> 
       <br /> 
       <dt> 
        <b>Pearson's correlation of 2 arrays</b> 
       </dt> 
       <br /> 
       <br /> 
       <dd>
         To compute the Pearson's product-moment correlation between two double arrays 
        <tt>x</tt> and 
        <tt>y</tt>, use: 
        <div class="source"> 
         <pre>
new PearsonsCorrelation().correlation(x, y)
          </pre> 
        </div> 
       </dd> 
       <br /> 
       <br /> 
       <dt> 
        <b>Pearson's correlation matrix</b> 
       </dt> 
       <br /> 
       <br /> 
       <dd>
         A (Pearson's) correlation matrix over the columns of a source matrix 
        <tt>data</tt> can be computed using 
        <div class="source"> 
         <pre>
new PearsonsCorrelation().computeCorrelationMatrix(data)
          </pre> 
        </div> The i-jth entry of the returned matrix is the Pearson's product-moment correlation between the ith and jth columns of 
        <tt>data.</tt> 
       </dd> 
       <br /> 
       <br /> 
       <dt> 
        <b>Pearson's correlation significance and standard errors</b> 
       </dt> 
       <br /> 
       <br /> 
       <dd>
         To compute standard errors and/or significances of correlation coefficients associated with Pearson's correlation coefficients, start by creating a 
        <tt> 
         <clt fqn="org.apache.commons.math3.stat.correlation.PearsonsCorrelation" api="PearsonsCorrelation" kind="class">
           PearsonsCorrelation 
         </clt></tt> instance 
        <div class="source"> 
         <pre>
PearsonsCorrelation correlation = new PearsonsCorrelation(data);
          </pre> 
        </div> where 
        <tt>data</tt> is either a rectangular array or a 
        <tt> 
         <clt fqn="org.apache.commons.math3.linear.RealMatrix" api="RealMatrix" kind="class">
           RealMatrix. 
         </clt></tt> Then the matrix of standard errors is 
        <div class="source"> 
         <pre>
correlation.getCorrelationStandardErrors();
          </pre> 
        </div> The formula used to compute the standard error is 
        <br /> 
        <tt>SE<sub>r</sub> = ((1 - r<sup>2</sup>) / (n - 2))<sup>1/2</sup></tt> 
        <br /> where 
        <tt>r</tt> is the estimated correlation coefficient and 
        <tt>n</tt> is the number of observations in the source dataset. 
        <br /> 
        <br /> 
        <b>p-values</b> for the (2-sided) null hypotheses that elements of a correlation matrix are zero populate the RealMatrix returned by 
        <div class="source"> 
         <pre>
correlation.getCorrelationPValues()
          </pre> 
        </div> 
        <tt> 
         <clt fqn="org.apache.commons.math3.linear.RealMatrix.getEntry" api="getEntry" kind="method">
           getCorrelationPValues().getEntry(i,j) 
         </clt></tt> is the probability that a random variable distributed as 
        <tt>t<sub>n-2</sub></tt> takes a value with absolute value greater than or equal to 
        <br /> 
        <br /> 
        <tt>|r<sub>ij</sub>|((n - 2) / (1 - r<sub>ij</sub><sup>2</sup>))<sup>1/2</sup></tt>, where 
        <tt>r<sub>ij</sub></tt> is the estimated correlation between the ith and jth columns of the source array or RealMatrix. This is sometimes referred to as the 
        <i>significance</i> of the coefficient. 
        <br /> 
        <br /> For example, if 
        <tt>data</tt> is a RealMatrix with 2 columns and 10 rows, then 
        <div class="source"> 
         <pre>
new PearsonsCorrelation(data).getCorrelationPValues().getEntry(0,1)
           </pre> 
        </div> is the significance of the Pearson's correlation coefficient between the two columns of 
        <tt>data</tt>. If this value is less than .01, we can say that the correlation between the two columns of data is significant at the 99% level. 
       </dd> 
       <br /> 
       <br /> 
       <dt> 
        <b>Spearman's rank correlation coefficient</b> 
       </dt> 
       <br /> 
       <br /> 
       <dd>
         To compute the Spearman's rank-moment correlation between two double arrays 
        <tt>x</tt> and 
        <tt>y</tt>: 
        <div class="source"> 
         <pre>
new SpearmansCorrelation().correlation(x, y)
          </pre> 
        </div> This is equivalent to 
        <div class="source"> 
         <pre>
RankingAlgorithm ranking = new NaturalRanking();
new PearsonsCorrelation().correlation(ranking.rank(x), ranking.rank(y))
          </pre> 
        </div> 
       </dd> 
       <br /> 
       <br /> 
      </dl> 
     </div> 
     <div class="section"> 
      <h3>1.8 Statistical tests<a name="a1.8_Statistical_tests"></a></h3> 
      <p> The <a href="../apidocs/org/apache/commons/math3/stat/inference/"> org.apache.commons.math3.stat.inference</a> package provides implementations for <a class="externalLink" href="http://www.itl.nist.gov/div898/handbook/prc/section2/prc22.htm"> Student's t</a>, <a class="externalLink" href="http://www.itl.nist.gov/div898/handbook/eda/section3/eda35f.htm"> Chi-Square</a>, <a class="externalLink" href="http://en.wikipedia.org/wiki/G-test">G Test</a>, <a class="externalLink" href="http://www.itl.nist.gov/div898/handbook/prc/section4/prc43.htm"> One-Way ANOVA</a>, <a class="externalLink" href="http://www.itl.nist.gov/div898/handbook/prc/section3/prc35.htm"> Mann-Whitney U</a> and <a class="externalLink" href="http://en.wikipedia.org/wiki/Wilcoxon_signed-rank_test"> Wilcoxon signed rank</a> test statistics as well as <a class="externalLink" href="http://www.cas.lancs.ac.uk/glossary_v1.1/hyptest.html#pvalue"> p-values</a> associated with <tt>t-</tt>, <tt>Chi-Square</tt>, <tt>G</tt>, <tt>One-Way ANOVA</tt>, <tt>Mann-Whitney U</tt> and <tt>Wilcoxon signed rank</tt> tests. The respective test classes are <a href="../apidocs/org/apache/commons/math3/stat/inference/TTest.html"> 
        <clt fqn="org.apache.commons.math3.stat.inference.TTest" api="TTest" kind="class">
          TTest 
        </clt></a>, <a href="../apidocs/org/apache/commons/math3/stat/inference/ChiSquareTest.html"> 
        <clt fqn="org.apache.commons.math3.stat.inference.ChiSquareTest" api="ChiSquareTest" kind="class">
          ChiSquareTest 
        </clt></a>, <a href="../apidocs/org/apache/commons/math3/stat/inference/GTest.html"> 
        <clt fqn="org.apache.commons.math3.stat.inference.GTest" api="GTest" kind="class">
          GTest 
        </clt></a>, <a href="../apidocs/org/apache/commons/math3/stat/inference/OneWayAnova.html"> 
        <clt fqn="org.apache.commons.math3.stat.inference.OneWayAnova" api="OneWayAnova" kind="class">
          OneWayAnova 
        </clt></a>, <a href="../apidocs/org/apache/commons/math3/stat/inference/MannWhitneyUTest.html"> 
        <clt fqn="org.apache.commons.math3.stat.inference.MannWhitneyUTest" api="MannWhitneyUTest" kind="class">
          MannWhitneyUTest 
        </clt></a>, and <a href="../apidocs/org/apache/commons/math3/stat/inference/WilcoxonSignedRankTest.html"> 
        <clt fqn="org.apache.commons.math3.stat.inference.WilcoxonSignedRankTest" api="WilcoxonSignedRankTest" kind="class">
          WilcoxonSignedRankTest 
        </clt></a>. The <a href="../apidocs/org/apache/commons/math3/stat/inference/TestUtils.html"> 
        <clt fqn="org.apache.commons.math3.stat.inference.TestUtils" api="TestUtils" kind="class">
          TestUtils 
        </clt></a> class provides static methods to get test instances or to compute test statistics directly. The examples below all use the static methods in <tt> 
        <clt fqn="org.apache.commons.math3.stat.inference.TestUtils" api="TestUtils" kind="class">
          TestUtils 
        </clt></tt> to execute tests. To get test object instances, either use e.g., <tt> 
        <clt fqn="org.apache.commons.math3.stat.inference.TestUtils" api="TestUtils" kind="class">
          TestUtils.getTTest() 
        </clt></tt> or use the implementation constructors directly, e.g. <tt> 
        <clt fqn="org.apache.commons.math3.stat.inference.TTest" api="TTest" kind="method">
          new TTest() 
        </clt></tt>. </p> 
      <p> <b>Implementation Notes</b> </p> 
      <ul> 
       <li>Both one- and two-sample t-tests are supported. Two sample tests can be either paired or unpaired and the unpaired two-sample tests can be conducted under the assumption of equal subpopulation variances or without this assumption. When equal variances is assumed, a pooled variance estimate is used to compute the t-statistic and the degrees of freedom used in the t-test equals the sum of the sample sizes minus 2. When equal variances is not assumed, the t-statistic uses both sample variances and the <a class="externalLink" href="http://www.itl.nist.gov/div898/handbook/prc/section3/gifs/nu3.gif"> Welch-Satterwaite approximation</a> is used to compute the degrees of freedom. Methods to return t-statistics and p-values are provided in each case, as well as boolean-valued methods to perform fixed significance level tests. The names of methods or methods that assume equal subpopulation variances always start with &quot;homoscedastic.&quot; Test or test-statistic methods that just start with &quot;t&quot; do not assume equal variances. See the examples below and the API documentation for more details.</li> 
       <li>The validity of the p-values returned by the t-test depends on the assumptions of the parametric t-test procedure, as discussed <a class="externalLink" href="http://www.basic.nwu.edu/statguidefiles/ttest_unpaired_ass_viol.html"> here</a></li> 
       <li>p-values returned by t-, chi-square and Anova tests are exact, based on numerical approximations to the t-, chi-square and F distributions in the <tt>distributions</tt> package. </li> 
       <li>The G test implementation provides two p-values: <tt> 
         <clt fqn="org.apache.commons.math3.stat.inference.TestUtils.gTest" api="gTest" kind="method">
           gTest(expected, observed) 
         </clt></tt>, which is the tail probability beyond <tt> 
         <clt fqn="org.apache.commons.math3.stat.inference.TestUtils.g" api="g" kind="method">
           g(expected, observed) 
         </clt></tt> in the ChiSquare distribution with degrees of freedom one less than the common length of input arrays and <tt> 
         <clt fqn="org.apache.commons.math3.stat.inference.TestUtils.gTestIntrinsic" api="gTestIntrinsic" kind="method">
           gTestIntrinsic(expected, observed) 
         </clt></tt> which is the same tail probability computed using a ChiSquare distribution with one less degeree of freedom. </li> 
       <li>p-values returned by t-tests are for two-sided tests and the boolean-valued methods supporting fixed significance level tests assume that the hypotheses are two-sided. One sided tests can be performed by dividing returned p-values (resp. critical values) by 2.</li> 
       <li>Degrees of freedom for G- and chi-square tests are integral values, based on the number of observed or expected counts (number of observed counts - 1).</li> 
      </ul> 
      <p> <b>Examples:</b> </p> 
      <dl> 
       <dt> 
        <b>One-sample <tt>t</tt> tests</b> 
       </dt> 
       <br /> 
       <br /> 
       <dd>
         To compare the mean of a double[] array to a fixed value: 
        <div class="source"> 
         <pre>
double[] observed = {1d, 2d, 3d};
double mu = 2.5d;
System.out.println(TestUtils.t(mu, observed));
          </pre> 
        </div> The code above will display the t-statisitic associated with a one-sample t-test comparing the mean of the 
        <tt>observed</tt> values against 
        <tt>mu.</tt> 
       </dd> 
       <dd>
         To compare the mean of a dataset described by a 
        <a href="../apidocs/org/apache/commons/math3/stat/descriptive/StatisticalSummary.html"> 
         <clt fqn="org.apache.commons.math3.stat.descriptive.StatisticalSummary" api="StatisticalSummary" kind="class">
           StatisticalSummary 
         </clt></a> to a fixed value: 
        <div class="source"> 
         <pre>
double[] observed ={1d, 2d, 3d};
double mu = 2.5d;
SummaryStatistics sampleStats = new SummaryStatistics();
for (int i = 0; i &lt; observed.length; i++) {
    sampleStats.addValue(observed[i]);
}
System.out.println(TestUtils.t(mu, observed));
</pre> 
        </div> 
       </dd> 
       <dd>
         To compute the p-value associated with the null hypothesis that the mean of a set of values equals a point estimate, against the two-sided alternative that the mean is different from the target value: 
        <div class="source"> 
         <pre>
double[] observed = {1d, 2d, 3d};
double mu = 2.5d;
System.out.println(TestUtils.tTest(mu, observed));
           </pre> 
        </div> The snippet above will display the p-value associated with the null hypothesis that the mean of the population from which the 
        <tt>observed</tt> values are drawn equals 
        <tt>mu.</tt> 
       </dd> 
       <dd>
         To perform the test using a fixed significance level, use: 
        <div class="source"> 
         <pre>
TestUtils.tTest(mu, observed, alpha);
          </pre> 
        </div> where 
        <tt>0 &lt; alpha &lt; 0.5</tt> is the significance level of the test. The boolean value returned will be 
        <tt>true</tt> iff the null hypothesis can be rejected with confidence 
        <tt>1 - alpha</tt>. To test, for example at the 95% level of confidence, use 
        <tt>alpha = 0.05</tt> 
       </dd> 
       <br /> 
       <br /> 
       <dt> 
        <b>Two-Sample t-tests</b> 
       </dt> 
       <br /> 
       <br /> 
       <dd> 
        <b>Example 1:</b> Paired test evaluating the null hypothesis that the mean difference between corresponding (paired) elements of the 
        <tt>double[]</tt> arrays 
        <tt>sample1</tt> and 
        <tt>sample2</tt> is zero. 
        <p> To compute the t-statistic: </p> 
        <div class="source"> 
         <pre>
TestUtils.pairedT(sample1, sample2);
          </pre> 
        </div> 
        <p> To compute the p-value: </p> 
        <div class="source"> 
         <pre>
TestUtils.pairedTTest(sample1, sample2);
           </pre> 
        </div> 
        <p> To perform a fixed significance level test with alpha = .05: </p> 
        <div class="source"> 
         <pre>
TestUtils.pairedTTest(sample1, sample2, .05);
           </pre> 
        </div> The last example will return 
        <tt>true</tt> iff the p-value returned by 
        <tt> 
         <clt fqn="org.apache.commons.math3.stat.inference.TestUtils.pairedTTest" api="pairedTTest" kind="method">
           TestUtils.pairedTTest(sample1, sample2) 
         </clt></tt> is less than 
        <tt>.05</tt> 
       </dd> 
       <dd> 
        <b>Example 2: </b> unpaired, two-sided, two-sample t-test using 
        <tt> 
         <clt fqn="org.apache.commons.math3.stat.descriptive.StatisticalSummary" api="StatisticalSummary" kind="class">
           StatisticalSummary 
         </clt></tt> instances, without assuming that subpopulation variances are equal. 
        <p> First create the <tt> 
          <clt fqn="org.apache.commons.math3.stat.descriptive.StatisticalSummary" api="StatisticalSummary" kind="class">
            StatisticalSummary 
          </clt></tt> instances. Both <tt> 
          <clt fqn="org.apache.commons.math3.stat.descriptive.DescriptiveStatistics" api="DescriptiveStatistics" kind="class">
            DescriptiveStatistics 
          </clt></tt> and <tt> 
          <clt fqn="org.apache.commons.math3.stat.descriptive.SummaryStatistics" api="SummaryStatistics" kind="class">
            SummaryStatistics 
          </clt></tt> implement this interface. Assume that <tt>summary1</tt> and <tt>summary2</tt> are <tt> 
          <clt fqn="org.apache.commons.math3.stat.descriptive.SummaryStatistics" api="SummaryStatistics" kind="class">
            SummaryStatistics 
          </clt></tt> instances, each of which has had at least 2 values added to the (virtual) dataset that it describes. The sample sizes do not have to be the same -- all that is required is that both samples have at least 2 elements. </p> 
        <p><b>Note:</b> The <tt> 
          <clt fqn="org.apache.commons.math3.stat.descriptive.SummaryStatistics" api="SummaryStatistics" kind="class">
            SummaryStatistics 
          </clt></tt> class does not store the dataset that it describes in memory, but it does compute all statistics necessary to perform t-tests, so this method can be used to conduct t-tests with very large samples. One-sample tests can also be performed this way. (See <a href="#a1.2_Descriptive_statistics">Descriptive statistics</a> for details on the <tt> 
          <clt fqn="org.apache.commons.math3.stat.descriptive.SummaryStatistics" api="SummaryStatistics" kind="class">
            SummaryStatistics 
          </clt></tt> class.) </p> 
        <p> To compute the t-statistic: </p> 
        <div class="source"> 
         <pre>
TestUtils.t(summary1, summary2);
          </pre> 
        </div> 
        <p> To compute the p-value: </p> 
        <div class="source"> 
         <pre>
TestUtils.tTest(sample1, sample2);
           </pre> 
        </div> 
        <p> To perform a fixed significance level test with alpha = .05: </p> 
        <div class="source"> 
         <pre>
TestUtils.tTest(sample1, sample2, .05);
           </pre> 
        </div> 
        <p> In each case above, the test does not assume that the subpopulation variances are equal. To perform the tests under this assumption, replace &quot;t&quot; at the beginning of the method name with &quot;homoscedasticT&quot; </p> 
       </dd> 
       <br /> 
       <br /> 
       <dt> 
        <b>Chi-square tests</b> 
       </dt> 
       <br /> 
       <br /> 
       <dd>
         To compute a chi-square statistic measuring the agreement between a 
        <tt>long[]</tt> array of observed counts and a 
        <tt>double[]</tt> array of expected counts, use: 
        <div class="source"> 
         <pre>
long[] observed = {10, 9, 11};
double[] expected = {10.1, 9.8, 10.3};
System.out.println(TestUtils.chiSquare(expected, observed));
          </pre> 
        </div> the value displayed will be 
        <tt> 
         <clt fqn="org.apache.commons.math3.stat.StatUtils.sum" api="sum" kind="unknown">
           sum((expected[i] - observed[i])^2 / expected[i]) 
         </clt></tt> 
       </dd> 
       <dd>
         To get the p-value associated with the null hypothesis that 
        <tt>observed</tt> conforms to 
        <tt>expected</tt> use: 
        <div class="source"> 
         <pre>
TestUtils.chiSquareTest(expected, observed);
          </pre> 
        </div> 
       </dd> 
       <dd>
         To test the null hypothesis that 
        <tt>observed</tt> conforms to 
        <tt>expected</tt> with 
        <tt>alpha</tt> siginficance level (equiv. 
        <tt>100 * (1-alpha)%</tt> confidence) where 
        <tt> 0 &lt; alpha &lt; 1 </tt> use: 
        <div class="source"> 
         <pre>
TestUtils.chiSquareTest(expected, observed, alpha);
          </pre> 
        </div> The boolean value returned will be 
        <tt>true</tt> iff the null hypothesis can be rejected with confidence 
        <tt>1 - alpha</tt>. 
       </dd> 
       <dd>
         To compute a chi-square statistic statistic associated with a 
        <a class="externalLink" href="http://www.itl.nist.gov/div898/handbook/prc/section4/prc45.htm"> chi-square test of independence</a> based on a two-dimensional (long[][]) 
        <tt>counts</tt> array viewed as a two-way table, use: 
        <div class="source"> 
         <pre>
TestUtils.chiSquareTest(counts);
          </pre> 
        </div> The rows of the 2-way table are 
        <tt>count[0], ... , count[count.length - 1]. </tt> 
        <br /> 
        <br /> The chi-square statistic returned is 
        <tt> 
         <clt fqn="org.apache.commons.math3.stat.StatUtils.sum" api="sum" kind="unknown">
           sum((counts[i][j] - expected[i][j])^2/expected[i][j]) 
         </clt></tt> where the sum is taken over all table entries and 
        <tt>expected[i][j]</tt> is the product of the row and column sums at row 
        <tt>i</tt>, column 
        <tt>j</tt> divided by the total count. 
       </dd> 
       <dd>
         To compute the p-value associated with the null hypothesis that the classifications represented by the counts in the columns of the input 2-way table are independent of the rows, use: 
        <div class="source"> 
         <pre>
 TestUtils.chiSquareTest(counts);
          </pre> 
        </div> 
       </dd> 
       <dd>
         To perform a chi-square test of independence with 
        <tt>alpha</tt> siginficance level (equiv. 
        <tt>100 * (1-alpha)%</tt> confidence) where 
        <tt>0 &lt; alpha &lt; 1 </tt> use: 
        <div class="source"> 
         <pre>
TestUtils.chiSquareTest(counts, alpha);
          </pre> 
        </div> The boolean value returned will be 
        <tt>true</tt> iff the null hypothesis can be rejected with confidence 
        <tt>1 - alpha</tt>. 
       </dd> 
       <br /> 
       <br /> 
       <dt> 
        <b>G tests</b> 
       </dt> 
       <br /> 
       <br /> 
       <dd>
         G tests are an alternative to chi-square tests that are recommended when observed counts are small and / or incidence probabillities for some cells are small. See Ted Dunning's paper, 
        <a class="externalLink" href="http://citeseerx.ist.psu.edu/viewdoc/summary?doi=10.1.1.14.5962"> Accurate Methods for the Statistics of Surprise and Coincidence</a> for background and an empirical analysis showing now chi-square statistics can be misldeading in the presence of low incidence probabilities. This paper also derives the formulas used in computing G statistics and the root log likelihood ratio provided by the 
        <tt> 
         <clt fqn="org.apache.commons.math3.stat.inference.GTest" api="GTest" kind="class">
           GTest 
         </clt></tt> class. 
       </dd> 
       <dd> 
       </dd> 
       <dd>
         To compute a G-test statistic measuring the agreement between a 
        <tt>long[]</tt> array of observed counts and a 
        <tt>double[]</tt> array of expected counts, use: 
        <div class="source"> 
         <pre>
double[] expected = new double[]{0.54d, 0.40d, 0.05d, 0.01d};
long[] observed = new long[]{70, 79, 3, 4};
System.out.println(TestUtils.g(expected, observed));
          </pre> 
        </div> the value displayed will be 
        <tt>2 * sum(observed[i]) * log(observed[i]/expected[i])</tt> 
       </dd> 
       <dd>
         To get the p-value associated with the null hypothesis that 
        <tt>observed</tt> conforms to 
        <tt>expected</tt> use: 
        <div class="source"> 
         <pre>
TestUtils.gTest(expected, observed);
          </pre> 
        </div> 
       </dd> 
       <dd>
         To test the null hypothesis that 
        <tt>observed</tt> conforms to 
        <tt>expected</tt> with 
        <tt>alpha</tt> siginficance level (equiv. 
        <tt>100 * (1-alpha)%</tt> confidence) where 
        <tt> 0 &lt; alpha &lt; 1 </tt> use: 
        <div class="source"> 
         <pre>
TestUtils.gTest(expected, observed, alpha);
          </pre> 
        </div> The boolean value returned will be 
        <tt>true</tt> iff the null hypothesis can be rejected with confidence 
        <tt>1 - alpha</tt>. 
       </dd> 
       <dd>
         To evaluate the hypothesis that two sets of counts come from the same underlying distribution, use long[] arrays for the counts and 
        <tt>
         <clt fqn="org.apache.commons.math3.stat.inference.TestUtils.gDataSetsComparison" api="gDataSetsComparison" kind="class">
          gDataSetsComparison
         </clt></tt> for the test statistic 
        <div class="source"> 
         <pre>
long[] obs1 = new long[]{268, 199, 42};
long[] obs2 = new long[]{807, 759, 184};
System.out.println(TestUtils.gDataSetsComparison(obs1, obs2)); // G statistic
System.out.println(TestUtils.gTestDataSetsComparison(obs1, obs2)); // p-value
          </pre> 
        </div> 
       </dd> 
       <dd>
         For 2 x 2 designs, the 
        <tt>rootLogLikelihoodRaio</tt> method computes the 
        <a class="externalLink" href="http://tdunning.blogspot.com/2008/03/surprise-and-coincidence.html"> signed root log likelihood ratio.</a> For example, suppose that for two events A and B, the observed count of AB (both occurring) is 5, not A and B (B without A) is 1995, A not B is 0; and neither A nor B is 10000. Then 
        <div class="source"> 
         <pre>
new GTest().rootLogLikelihoodRatio(5, 1995, 0, 100000);
          </pre> 
        </div> returns the root log likelihood associated with the null hypothesis that A and B are independent. 
       </dd> 
       <br /> 
       <br /> 
       <dt> 
        <b>One-Way Anova tests</b> 
       </dt> 
       <br /> 
       <br /> 
       <div class="source"> 
        <pre>
double[] classA =
   {93.0, 103.0, 95.0, 101.0, 91.0, 105.0, 96.0, 94.0, 101.0 };
double[] classB =
   {99.0, 92.0, 102.0, 100.0, 102.0, 89.0 };
double[] classC =
   {110.0, 115.0, 111.0, 117.0, 128.0, 117.0 };
List classes = new ArrayList();
classes.add(classA);
classes.add(classB);
classes.add(classC);
          </pre> 
       </div> Then you can compute ANOVA F- or p-values associated with the null hypothesis that the class means are all the same using a 
       <tt> 
        <clt fqn="org.apache.commons.math3.stat.inference.OneWayAnova" api="OneWayAnova" kind="class">
          OneWayAnova 
        </clt></tt> instance or 
       <tt> 
        <clt fqn="org.apache.commons.math3.stat.inference.TestUtils" api="TestUtils" kind="class">
          TestUtils 
        </clt></tt> methods: 
       <div class="source"> 
        <pre>
double fStatistic = TestUtils.oneWayAnovaFValue(classes); // F-value
double pValue = TestUtils.oneWayAnovaPValue(classes);     // P-value
          </pre> 
       </div> To test perform a One-Way Anova test with signficance level set at 0.01 (so the test will, assuming assumptions are met, reject the null hypothesis incorrectly only about one in 100 times), use 
       <div class="source"> 
        <pre>
TestUtils.oneWayAnovaTest(classes, 0.01); // returns a boolean
                                          // true means reject null hypothesis
          </pre> 
       </div> 
      </dl> 
     </div> 
    </div> 
   </div> 
  </div> 
  <div class="clear"> 
   <hr /> 
  </div> 
  <div id="footer"> 
   <div class="center">
     Copyright &copy; 2003-2013 
    <a href="http://www.apache.org/">The Apache Software Foundation</a>. All Rights Reserved. 
   </div> 
   <div class="center">
     Apache Commons, Apache Commons Math, Apache, the Apache feather logo, and the Apache Commons project logos are trademarks of The Apache Software Foundation. All other marks mentioned may be trademarks or registered trademarks of their respective owners. 
   </div> 
   <div class="clear"> 
    <hr /> 
   </div> 
  </div>  
 </body>
</html>