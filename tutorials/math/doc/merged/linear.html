<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by Apache Maven Doxia at Jan 9, 2013 ( $Revision: 1.1 $ ) -->
<!-- $HeadURL: https://svn.apache.org/repos/asf/commons/proper/commons-skin/trunk/src/main/resources/META-INF/maven/site.vm $ -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
 <head> 
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /> 
  <title>
    The Commons Math User Guide - Linear Algebra</title> 
  <style type="text/css" media="all">
      @import url("../css/maven-base.css");
      @import url("../css/maven-theme.css");
      @import url("../css/site.css");
    </style> 
  <link rel="stylesheet" href="../css/print.css" type="text/css" media="print" /> 
  <meta name="Date-Revision-yyyymmdd" content="20130109" /> 
  <meta http-equiv="Content-Language" content="en" /> 
  <link rel="stylesheet" type="text/css" media="all" href="../css/prettify.css" /> 
  <script src="../js/prettify.js" type="text/javascript"></script> 
  <script type="text/javascript">window.onload=function() {
            prettyPrint();
        }</script> 
 </head> 
 <body class="composite"> 
  <div id="banner"> 
   <div id="bannerLeft"> 
    <a href="http://commons.apache.org/" title="Apache Commons logo"> <img src="../images/commons-logo.png" alt="Apache Commons logo" /> </a> 
   </div> 
   <!-- id="bannerLeft" --> 
   <div id="bannerRight"> 
    <a href="../index.html"> <img src="../images/math.gif" alt="Commons Math" /> </a> 
   </div> 
   <!-- id="bannerRight" --> 
   <div class="clear"> 
    <hr /> 
   </div> 
  </div> 
  <div id="breadcrumbs"> 
   <div class="xleft"> 
    <span id="publishDate">Last Published: 09 January 2013</span> &nbsp;| 
    <span id="projectVersion">Version: 3.1.1</span> 
   </div> 
   <div class="xright"> 
    <a href="http://www.apachecon.com/" class="externalLink" title="ApacheCon">ApacheCon</a> | 
    <a href="http://www.apache.org" class="externalLink" title="Apache">Apache</a> | 
    <a href="../../" title="Commons">Commons</a> 
   </div> 
   <div class="clear"> 
    <hr /> 
   </div> 
  </div> 
  <div id="leftColumn"> 
   <div id="navcolumn"> 
    <h5>Math</h5> 
    <ul> 
     <li class="none"> <a href="../index.html" title="Overview">Overview</a> </li> 
     <li class="none"> <a href="../download_math.cgi" title="Downloads">Downloads</a> </li> 
     <li class="none"> <a href="../apidocs/index.html" title="Latest API docs (development)">Latest API docs (development)</a> </li> 
     <li class="none"> <a href="../api-3.1.1/index.html" title="Javadoc (3.1.1 release)">Javadoc (3.1.1 release)</a> </li> 
     <li class="none"> <a href="../api-3.1/index.html" title="Javadoc (3.1 release)">Javadoc (3.1 release)</a> </li> 
     <li class="none"> <a href="../api-3.0/index.html" title="Javadoc (3.0 release)">Javadoc (3.0 release)</a> </li> 
     <li class="none"> <a href="../api-2.2/index.html" title="Javadoc (2.2 release)">Javadoc (2.2 release)</a> </li> 
     <li class="none"> <a href="../issue-tracking.html" title="Issue Tracking">Issue Tracking</a> </li> 
     <li class="none"> <a href="http://svn.apache.org/viewvc/commons/proper/math/trunk" class="externalLink" title="Source Repository (current)">Source Repository (current)</a> </li> 
     <li class="none"> <a href="http://wiki.apache.org/commons/Math" class="externalLink" title="Wiki">Wiki</a> </li> 
     <li class="none"> <a href="../developers.html" title="Developers Guide">Developers Guide</a> </li> 
     <li class="none"> <a href="../proposal.html" title="Proposal">Proposal</a> </li> 
    </ul> 
    <h5>User Guide</h5> 
    <ul> 
     <li class="none"> <a href="../userguide/index.html" title="Contents">Contents</a> </li> 
     <li class="none"> <a href="../userguide/overview.html" title="Overview">Overview</a> </li> 
     <li class="none"> <a href="../userguide/stat.html" title="Statistics">Statistics</a> </li> 
     <li class="none"> <a href="../userguide/random.html" title="Data Generation">Data Generation</a> </li> 
     <li class="none"> <strong>Linear Algebra</strong> </li> 
     <li class="none"> <a href="../userguide/analysis.html" title="Numerical Analysis">Numerical Analysis</a> </li> 
     <li class="none"> <a href="../userguide/special.html" title="Special Functions">Special Functions</a> </li> 
     <li class="none"> <a href="../userguide/utilities.html" title="Utilities">Utilities</a> </li> 
     <li class="none"> <a href="../userguide/complex.html" title="Complex Numbers">Complex Numbers</a> </li> 
     <li class="none"> <a href="../userguide/distribution.html" title="Distributions">Distributions</a> </li> 
     <li class="none"> <a href="../userguide/fraction.html" title="Fractions">Fractions</a> </li> 
     <li class="none"> <a href="../userguide/transform.html" title="Transform Methods">Transform Methods</a> </li> 
     <li class="none"> <a href="../userguide/geometry.html" title="3D Geometry">3D Geometry</a> </li> 
     <li class="none"> <a href="../userguide/optimization.html" title="Optimization">Optimization</a> </li> 
     <li class="none"> <a href="../userguide/ode.html" title="Ordinary Differential Equations">Ordinary Differential Equations</a> </li> 
     <li class="none"> <a href="../userguide/genetics.html" title="Genetic Algorithms">Genetic Algorithms</a> </li> 
     <li class="none"> <a href="../userguide/filter.html" title="Filters">Filters</a> </li> 
    </ul> 
    <h5>Project Documentation</h5> 
    <ul> 
     <li class="collapsed"> <a href="../project-info.html" title="Project Information">Project Information</a> </li> 
     <li class="collapsed"> <a href="../project-reports.html" title="Project Reports">Project Reports</a> </li> 
    </ul> 
    <h5>Commons</h5> 
    <ul> 
     <li class="none"> <a href="../../" title="Home">Home</a> </li> 
     <li class="none"> <a href="http://www.apache.org/licenses/" class="externalLink" title="License">License</a> </li> 
     <li class="collapsed"> <a href="../../components.html" title="Components">Components</a> </li> 
     <li class="collapsed"> <a href="../../sandbox/index.html" title="Sandbox">Sandbox</a> </li> 
     <li class="collapsed"> <a href="../../dormant/index.html" title="Dormant">Dormant</a> </li> 
    </ul> 
    <h5>General Information</h5> 
    <ul> 
     <li class="none"> <a href="../../volunteering.html" title="Volunteering">Volunteering</a> </li> 
     <li class="none"> <a href="../../patches.html" title="Contributing Patches">Contributing Patches</a> </li> 
     <li class="none"> <a href="../../building.html" title="Building Components">Building Components</a> </li> 
     <li class="none"> <a href="../../releases/index.html" title="Releasing Components">Releasing Components</a> </li> 
     <li class="none"> <a href="http://wiki.apache.org/commons/FrontPage" class="externalLink" title="Wiki">Wiki</a> </li> 
    </ul> 
    <h5>ASF</h5> 
    <ul> 
     <li class="none"> <a href="http://www.apache.org/foundation/how-it-works.html" class="externalLink" title="How the ASF works">How the ASF works</a> </li> 
     <li class="none"> <a href="http://www.apache.org/foundation/getinvolved.html" class="externalLink" title="Get Involved">Get Involved</a> </li> 
     <li class="none"> <a href="http://www.apache.org/dev/" class="externalLink" title="Developer Resources">Developer Resources</a> </li> 
     <li class="none"> <a href="http://www.apache.org/foundation/sponsorship.html" class="externalLink" title="Sponsorship">Sponsorship</a> </li> 
     <li class="none"> <a href="http://www.apache.org/foundation/thanks.html" class="externalLink" title="Thanks">Thanks</a> </li> 
    </ul> 
    <a href="http://www.apache.org/events/current-event.html" title="ApacheCon" class="poweredBy"> <img class="poweredBy" alt="ApacheCon" src="http://www.apache.org/events/current-event-125x125.png" /> </a> 
    <a href="http://maven.apache.org/" title="Maven" class="poweredBy"> <img class="poweredBy" alt="Maven" src="http://maven.apache.org/images/logos/maven-feather.png" /> </a> 
   </div> 
  </div> 
  <div id="bodyColumn"> 
   <div id="contentBox"> 
    <!-- Licensed to the Apache Software Foundation (ASF) under one or more
  contributor license agreements.  See the NOTICE file distributed with
  this work for additional information regarding copyright ownership.
  The ASF licenses this file to You under the Apache License, Version 2.0
  (the "License"); you may not use this file except in compliance with
  the License.  You may obtain a copy of the License at

       http://www.apache.org/licenses/LICENSE-2.0

   Unless required by applicable law or agreed to in writing, software
   distributed under the License is distributed on an "AS IS" BASIS,
   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   See the License for the specific language governing permissions and
   limitations under the License. --> 
    <!-- $Id: linear.html,v 1.1 2013/08/12 15:49:58 gpetro6 Exp $ --> 
    <div class="section"> 
     <h2>3 Linear Algebra<a name="a3_Linear_Algebra"></a></h2> 
     <div class="section"> 
      <h3>3.1 Overview<a name="a3.1_Overview"></a></h3> 
      <p> Linear algebra support in commons-math provides operations on real matrices (both dense and sparse matrices are supported) and vectors. It features basic operations (addition, subtraction ...) and decomposition algorithms that can be used to solve linear systems either in exact sense and in least squares sense. </p> 
     </div> 
     <div class="section"> 
      <h3>3.2 Real matrices<a name="a3.2_Real_matrices"></a></h3> 
      <p> The <a href="../apidocs/org/apache/commons/math3/linear/RealMatrix.html"> 
        <clt fqn="org.apache.commons.math3.linear.RealMatrix" api="RealMatrix" kind="class">
          RealMatrix 
        </clt></a> interface represents a matrix with real numbers as entries. The following basic matrix operations are supported: </p> 
      <ul> 
       <li>Matrix addition, subtraction, multiplication</li> 
       <li>Scalar addition and multiplication</li> 
       <li>transpose</li> 
       <li>Norm and Trace</li> 
       <li>Operation on a vector</li> 
      </ul> 
      <p> Example: </p> 
      <div class="source"> 
       <pre>
// Create a real matrix with two rows and three columns
double[][] matrixData = { {1d,2d,3d}, {2d,5d,3d}};
RealMatrix m = new Array2DRowRealMatrix(matrixData);

// One more with three rows, two columns
double[][] matrixData2 = { {1d,2d}, {2d,5d}, {1d, 7d}};
RealMatrix n = new Array2DRowRealMatrix(matrixData2);

// Note: The constructor copies  the input double[][] array.

// Now multiply m by n
RealMatrix p = m.multiply(n);
System.out.println(p.getRowDimension());    // 2
System.out.println(p.getColumnDimension()); // 2

// Invert p, using LU decomposition
RealMatrix pInverse = new LUDecompositionImpl(p).getSolver().getInverse();
         </pre> 
      </div> 
      <p> The three main implementations of the interface are <a href="../apidocs/org/apache/commons/math3/linear/Array2DRowRealMatrix.html"> 
        <clt fqn="org.apache.commons.math3.linear.Array2DRowRealMatrix" api="Array2DRowRealMatrix" kind="class">
          Array2DRowRealMatrix 
        </clt></a> and <a href="../apidocs/org/apache/commons/math3/linear/BlockRealMatrix.html"> 
        <clt fqn="org.apache.commons.math3.linear.BlockRealMatrix" api="BlockRealMatrix" kind="class">
          BlockRealMatrix 
        </clt></a> for dense matrices (the second one being more suited to dimensions above 50 or 100) and <a href="../apidocs/org/apache/commons/math3/linear/SparseRealMatrix.html"> 
        <clt fqn="org.apache.commons.math3.linear.SparseRealMatrix" api="SparseRealMatrix" kind="class">
          SparseRealMatrix 
        </clt></a> for sparse matrices. </p> 
     </div> 
     <div class="section"> 
      <h3>3.3 Real vectors<a name="a3.3_Real_vectors"></a></h3> 
      <p> The <a href="../apidocs/org/apache/commons/math3/linear/RealVector.html"> 
        <clt fqn="org.apache.commons.math3.linear.RealVector" api="RealVector" kind="class">
          RealVector 
        </clt></a> interface represents a vector with real numbers as entries. The following basic matrix operations are supported: </p> 
      <ul> 
       <li>Vector addition, subtraction</li> 
       <li>Element by element multiplication, division</li> 
       <li>Scalar addition, subtraction, multiplication, division and power</li> 
       <li>Mapping of mathematical functions (cos, sin ...)</li> 
       <li>Dot product, outer product</li> 
       <li>Distance and norm according to norms L1, L2 and Linf</li> 
      </ul> 
      <p> The <a href="../apidocs/org/apache/commons/math3/linear/RealVectorFormat.html"> 
        <clt fqn="org.apache.commons.math3.linear.RealVectorFormat" api="RealVectorFormat" kind="class">
          RealVectorFormat 
        </clt></a> class handles input/output of vectors in a customizable textual format. </p> 
     </div> 
     <div class="section"> 
      <h3>3.4 Solving linear systems<a name="a3.4_Solving_linear_systems"></a></h3> 
      <p> The <tt> 
        <clt fqn="org.apache.commons.math3.linear.DecompositionSolver.solve" api="solve" kind="method">
          solve() 
        </clt></tt> methods of the <a href="../apidocs/org/apache/commons/math3/linear/DecompositionSolver.html"> 
        <clt fqn="org.apache.commons.math3.linear.DecompositionSolver" api="DecompositionSolver" kind="class">
          DecompositionSolver 
        </clt></a> interface support solving linear systems of equations of the form AX=B, either in linear sense or in least square sense. A <tt> 
        <clt fqn="org.apache.commons.math3.linear.RealMatrix" api="RealMatrix" kind="class">
          RealMatrix 
        </clt></tt> instance is used to represent the coefficient matrix of the system. Solving the system is a two phases process: first the coefficient matrix is decomposed in some way and then a solver built from the decomposition solves the system. This allows to compute the decomposition and build the solver only once if several systems have to be solved with the same coefficient matrix. </p> 
      <p> For example, to solve the linear system </p> 
      <div> 
       <pre>
           2x + 3y - 2z = 1
           -x + 7y + 6x = -2
           4x - 3y - 5z = 1
          </pre> 
      </div> Start by decomposing the coefficient matrix A (in this case using LU decomposition) and build a solver 
      <div class="source"> 
       <pre>
RealMatrix coefficients =
    new Array2DRowRealMatrix(new double[][] { { 2, 3, -2 }, { -1, 7, 6 }, { 4, -3, -5 } },
                       false);
DecompositionSolver solver = new LUDecompositionImpl(coefficients).getSolver();
          </pre> 
      </div> Next create a 
      <tt> 
       <clt fqn="org.apache.commons.math3.linear.RealVector" api="RealVector" kind="class">
         RealVector 
       </clt></tt> array to represent the constant vector B and use 
      <tt> 
       <clt fqn="org.apache.commons.math3.linear.DecompositionSolver.solve" api="solve" kind="method">
         solve(RealVector) 
       </clt></tt> to solve the system 
      <div class="source"> 
       <pre>
RealVector constants = new ArrayRealVector(new double[] { 1, -2, 1 }, false);
RealVector solution = solver.solve(constants);
          </pre> 
      </div> The 
      <tt>solution</tt> vector will contain values for x ( 
      <tt> 
       <clt fqn="org.apache.commons.math3.linear.RealVector.getEntry" api="getEntry" kind="method">
         solution.getEntry(0) 
       </clt></tt>), y ( 
      <tt> 
       <clt fqn="org.apache.commons.math3.linear.RealVector.getEntry" api="getEntry" kind="method">
         solution.getEntry(1) 
       </clt></tt>), and z ( 
      <tt> 
       <clt fqn="org.apache.commons.math3.linear.RealVector.getEntry" api="getEntry" kind="method">
         solution.getEntry(2) 
       </clt></tt>) that solve the system. 
      <p> Each type of decomposition has its specific semantics and constraints on the coefficient matrix as shown in the following table. For algorithms that solve AX=B in least squares sense the value returned for X is such that the residual AX-B has minimal norm. If an exact solution exist (i.e. if for some X the residual AX-B is exactly 0), then this exact solution is also the solution in least square sense. This implies that algorithms suited for least squares problems can also be used to solve exact problems, but the reverse is not true. </p> 
      <p> </p> 
      <font size="+1"></font> 
      <table class="bodyTable" border="1" align="center"> 
       <tbody> 
        <tr class="a"> 
         <td colspan="2"><font size="+2">Decomposition algorithms</font></td> 
        </tr> 
        <tr class="b"> 
         <td>Name</td> 
         <td>coefficients matrix</td> 
         <td>problem type</td> 
        </tr> 
        <tr class="a"> 
         <td><a href="../apidocs/org/apache/commons/math3/linear/LUDecomposition.html">LU</a></td> 
         <td>square</td> 
         <td>exact solution only</td> 
        </tr> 
        <tr class="b"> 
         <td><a href="../apidocs/org/apache/commons/math3/linear/CholeskyDecomposition.html">Cholesky</a></td> 
         <td>symmetric positive definite</td> 
         <td>exact solution only</td> 
        </tr> 
        <tr class="a"> 
         <td><a href="../apidocs/org/apache/commons/math3/linear/QRDecomposition.html">QR</a></td> 
         <td>any</td> 
         <td>least squares solution</td> 
        </tr> 
        <tr class="b"> 
         <td><a href="../apidocs/org/apache/commons/math3/linear/EigenDecomposition.html">eigen decomposition</a></td> 
         <td>square</td> 
         <td>exact solution only</td> 
        </tr> 
        <tr class="a"> 
         <td><a href="../apidocs/org/apache/commons/math3/linear/SingularValueDecomposition.html">SVD</a></td> 
         <td>any</td> 
         <td>least squares solution</td> 
        </tr> 
       </tbody> 
      </table> 
      <p> It is possible to use a simple array of double instead of a <tt> 
        <clt fqn="org.apache.commons.math3.linear.RealVector" api="RealVector" kind="class">
          RealVector 
        </clt></tt>. In this case, the solution will be provided also as an array of double. </p> 
      <p> It is possible to solve multiple systems with the same coefficient matrix in one method call. To do this, create a matrix whose column vectors correspond to the constant vectors for the systems to be solved and use <tt> 
        <clt fqn="org.apache.commons.math3.linear.DecompositionSolver.solve" api="solve" kind="method">
          solve(RealMatrix), 
        </clt></tt> which returns a matrix with column vectors representing the solutions. </p> 
     </div> 
     <div class="section"> 
      <h3>3.5 Eigenvalues/eigenvectors and singular values/singular vectors<a name="a3.5_Eigenvalueseigenvectors_and_singular_valuessingular_vectors"></a></h3> 
      <p> Decomposition algorithms may be used for themselves and not only for linear system solving. This is of prime interest with eigen decomposition and singular value decomposition. </p> 
      <p> The <tt>getEigenvalue()</tt>, <tt>getEigenvalues()</tt>, <tt>getEigenVector()</tt>, <tt> 
        <clt fqn="org.apache.commons.math3.linear.EigenDecomposition.getV" api="getV" kind="method">
          getV() 
        </clt></tt>, <tt> 
        <clt fqn="org.apache.commons.math3.linear.EigenDecomposition.getD" api="getD" kind="method">
          getD() 
        </clt></tt> and <tt> 
        <clt fqn="org.apache.commons.math3.linear.EigenDecomposition.getVT" api="getVT" kind="method">
          getVT() 
        </clt></tt> methods of the <tt> 
        <clt fqn="org.apache.commons.math3.linear.EigenDecomposition" api="EigenDecomposition" kind="class">
          EigenDecomposition 
        </clt></tt> interface support solving eigenproblems of the form AX = lambda X where lambda is a real scalar. </p> 
      <p>The <tt> 
        <clt fqn="org.apache.commons.math3.linear.SingularValueDecomposition.getSingularValues" api="getSingularValues" kind="method">
          getSingularValues() 
        </clt></tt>, <tt> 
        <clt fqn="org.apache.commons.math3.linear.SingularValueDecomposition.getU" api="getU" kind="method">
          getU() 
        </clt></tt>, <tt> 
        <clt fqn="org.apache.commons.math3.linear.SingularValueDecomposition.getS" api="getS" kind="method">
          getS() 
        </clt></tt> and <tt>
        <clt fqn="org.apache.commons.math3.linear.SingularValueDecomposition.getV" api="getV" kind="method">
         getV()
        </clt></tt> methods of the <tt> 
        <clt fqn="org.apache.commons.math3.linear.SingularValueDecomposition" api="SingularValueDecomposition" kind="class">
          SingularValueDecomposition 
        </clt></tt> interface allow to solve singular values problems of the form AXi = lambda Yi where lambda is a real scalar, and where the Xi and Yi vectors form orthogonal bases of their respective vector spaces (which may have different dimensions). </p> 
     </div> 
     <div class="section"> 
      <h3>3.6 Non-real fields (complex, fractions ...)<a name="a3.6_Non-real_fields_complex_fractions_..."></a></h3> 
      <p> In addition to the real field, matrices and vectors using non-real <a href="../apidocs/org/apache/commons/math3/FieldElement.html">field elements</a> can be used. The fields already supported by the library are: </p> 
      <ul> 
       <li><a href="../apidocs/org/apache/commons/math3/complex/Complex.html"> 
         <clt fqn="org.apache.commons.math3.complex.Complex" api="Complex" kind="unknown">
           Complex 
         </clt></a></li> 
       <li><a href="../apidocs/org/apache/commons/math3/fraction/Fraction.html"> 
         <clt fqn="org.apache.commons.math3.fraction.Fraction" api="Fraction" kind="unknown">
           Fraction 
         </clt></a></li> 
       <li><a href="../apidocs/org/apache/commons/math3/fraction/BigFraction.html"> 
         <clt fqn="org.apache.commons.math3.fraction.BigFraction" api="BigFraction" kind="class">
           BigFraction 
         </clt></a></li> 
       <li><a href="../apidocs/org/apache/commons/math3/util/BigReal.html"> 
         <clt fqn="org.apache.commons.math3.util.BigReal" api="BigReal" kind="class">
           BigReal 
         </clt></a></li> 
      </ul> 
     </div> 
    </div> 
   </div> 
  </div> 
  <div class="clear"> 
   <hr /> 
  </div> 
  <div id="footer"> 
   <div class="center">
     Copyright &copy; 2003-2013 
    <a href="http://www.apache.org/">The Apache Software Foundation</a>. All Rights Reserved. 
   </div> 
   <div class="center">
     Apache Commons, Apache Commons Math, Apache, the Apache feather logo, and the Apache Commons project logos are trademarks of The Apache Software Foundation. All other marks mentioned may be trademarks or registered trademarks of their respective owners. 
   </div> 
   <div class="clear"> 
    <hr /> 
   </div> 
  </div>  
 </body>
</html>